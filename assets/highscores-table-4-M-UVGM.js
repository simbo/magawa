import{l as b,b as $,y as n}from"./vendor-r3QpqBWY.js";function d(e){return e=`${e}`,e.slice(0,1)==="/"}function m(e){return e=`${e}`,e.slice(-1)==="/"}function g(e){return e=`${e}`,d(e)?e.slice(1):e}function u(e){return e=`${e}`,m(e)?e.slice(0,-1):e}function y(e){return e=`${e}`,g(u(e))}function S(...e){const t=e.flat();return t.map((s,c)=>c===0?t.length===1?s:u(s):c===t.length-1?g(s):y(s)).join("/")}function f(e,t={}){e=Array.isArray(e)?e:[e];const s=new URL("https://simbo.app/magawa");s.pathname=S(s.pathname,...e);const c=new URLSearchParams(Object.entries(t));return s.search=c.toString(),s.toString()}async function _(e,t={}){return await(await fetch(e,t)).json()}async function p(e,t){return _(e,{headers:{"Content-Type":"application/json;charset=utf-8"},method:"post",body:JSON.stringify(t)})}async function H(e){const{difficulty:t,player:s,page:c,perPage:l,rank:r}={perPage:10,...e},i=["highscores",`${t}`],a={page:`${c}`,perPage:`${l}`};return s&&(a.player=`${s}`),await _(f(i,r?{rank:`${r}`}:a))}async function L(e,t,s){const c=b.compressToUTF16(JSON.stringify({player:t,time:s}));return await p(f(["highscores",`${e}`]),{data:c})}function o(e,t=2){const s=`${e}`,c=Math.max(0,t-s.length);return`${"0".repeat(c)}${s}`}function w(e,t=!0){const s=Math.floor(e/6e4);e-=s*6e4;const c=Math.floor(e/1e3);return`${o(s)}:${o(c)}${t?`:${o(e-c*1e3,3)}`:""}`}function T(e,t=!0){typeof e=="string"&&(e=new Date(e));const s=o(e.getDate()),c=o(e.getMonth()+1),l=e.getFullYear(),r=o(e.getHours()),i=o(e.getMinutes()),a=o(e.getSeconds());let h=`${s}.${c}.${l}`;return t&&(h+=` ${r}:${i}:${a}`),h}class M extends ${render({rows:t,highlight:s}){return n("table",{class:"c-highscores-table"},n("thead",null,n("tr",{class:"c-highscores-table__head-row"},n("th",{class:"c-highscores-table__head-cell c-highscores-table__head-cell--rank"},"#"),n("th",{class:"c-highscores-table__head-cell c-highscores-table__head-cell--name"},"Name"),n("th",{class:"c-highscores-table__head-cell c-highscores-table__head-cell--time"},"Time"))),n("tbody",null,(t||[]).map(({id:c,rank:l,player:r,time:i,date:a})=>n("tr",{title:`${r} üèÜ ${T(a)}`,class:`c-highscores-table__row ${c===s?"c-highscores-table__row--highlight":""}`},n("td",{class:"c-highscores-table__cell c-highscores-table__cell--rank"},l),n("td",{class:"c-highscores-table__cell c-highscores-table__cell--name"},r),n("td",{class:"c-highscores-table__cell c-highscores-table__cell--time"},w(i))))),!t||t.length===0?n("tfoot",null,n("tr",{class:"c-highscores-table__foot-row"},t?n("td",{colSpan:3,class:"c-highscores-table__foot-cell c-highscores-table__foot-cell--empty"},"No entries found."):n("td",{colSpan:3,class:"c-highscores-table__foot-cell c-highscores-table__foot-cell--loading"},"Loading..."))):"")}}export{M as H,L as a,w as f,H as g,S as s};
//# sourceMappingURL=highscores-table-4-M-UVGM.js.map
