import{b as n,_ as a,y as e,E as p}from"./vendor-tJNv_qKg.js";import{d as l,A as u,D as f}from"./index-PBFosM17.js";import{b as _,H as g,h as d}from"./highscores-table-ahQzHy1X.js";import{I as m}from"./icon-name.enum-0ePiKs41.js";class D extends n{difficulties=Object.entries(l).filter(([,s])=>typeof s=="number"&&s!==l.Custom);refSelect=a();refInput=a();constructor(s,i){super(s,i);const t=f,c="";this.setState({difficulty:t,player:c}),this.request(t,c)}render(s,{difficulty:i,player:t,list:c,updated:r}){return e("div",{class:"c-highscores-view"},e("h1",{class:"c-highscores-view__title e-title"},"Highscores ",e("img",{class:"e-icon",src:`icons/${m.Trophy}.png`})),e("div",{class:"c-highscores-view__options"},e("div",{class:"c-highscores-view__option"},e("label",{class:"c-highscores-view__label e-label",htmlFor:"difficulty"},"Difficulty"),e("select",{ref:this.refSelect,onChange:this.onChange,class:"c-highscores-view__select e-select",id:"difficulty",name:"difficulty"},this.difficulties.map(([h,o])=>e("option",{class:"c-highscores-view__option e-option",value:o,selected:i===o},h)))),e("div",{class:"c-highscores-view__option"},e("label",{class:"c-highscores-view__label e-label",htmlFor:"player"},"Player"),e("input",{ref:this.refInput,onChange:this.onChange,id:"player",name:"player",pattern:"^\\w*$",class:"c-highscores-view__input e-input",value:t}))),e("div",{class:"c-highscores-view__table"},e(g,{list:c,highlight:"CrjD8A1cqGjxtpVT70aMM"})),r?e("div",{class:"c-highscores-view__updated"},"Updated at ",_(r)):"",e("div",{className:"e-back-button"},e(p,{href:u.Home,class:"e-back-button__button e-button"},"← Back")))}onChange=s=>{s.preventDefault();const i=Number.parseInt(`${this.refSelect.current?.value}`,10),t=this.refInput.current?.value;this.request(i,t)};request(s,i){d.get(s,i).subscribe(({list:t,updated:c})=>{this.setState({difficulty:s,player:i,list:t,updated:c})},t=>{console.error(t),this.setState({difficulty:s,player:i,list:null,updated:null})})}}export{D as HighscoresView};
//# sourceMappingURL=highscores-view-2N2E5taU.js.map
