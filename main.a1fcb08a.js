parcelRequire=function(e){var r="function"==typeof parcelRequire&&parcelRequire,n="function"==typeof require&&require,i={};function u(e,u){if(e in i)return i[e];var t="function"==typeof parcelRequire&&parcelRequire;if(!u&&t)return t(e,!0);if(r)return r(e,!0);if(n&&"string"==typeof e)return n(e);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return u.register=function(e,r){i[e]=r},i=e(u),u.modules=i,u}(function (require) {function mb(a){return a&&a.__esModule?{d:a.default}:{d:a}}var Bd=this;var a,b,k,c,nb,Cd,Dd,Ed,Fd,ha={},ob=[],Gd=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ba(r,o){for(var e in o)r[e]=o[e];return r}function ec(r){var o=r.parentNode;o&&o.removeChild(r)}function j(r,o,e){var t,$,n,a=arguments,_={};for(n in o)"key"==n?t=o[n]:"ref"==n?$=o[n]:_[n]=o[n];if(arguments.length>3)for(e=[e],n=3;n<arguments.length;n++)e.push(a[n]);if(null!=e&&(_.children=e),"function"==typeof r&&null!=r.defaultProps)for(n in r.defaultProps)void 0===_[n]&&(_[n]=r.defaultProps[n]);return Da(r,_,t,$,null)}function Da(r,o,e,t,$){var n={type:r,props:o,key:e,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==$?++k.__v:$};return null!=k.vnode&&k.vnode(n),n}function Ua(){return{current:null}}function Ea(r){return r.children}function D(r,o){this.props=r,this.context=o}function Fa(r,o){if(null==o)return r.__?Fa(r.__,r.__.__k.indexOf(r)+1):null;for(var e;o<r.__k.length;o++)if(null!=(e=r.__k[o])&&null!=e.__e)return e.__e;return"function"==typeof r.type?Fa(r):null}function fc(r){var o,e;if(null!=(r=r.__)&&null!=r.__c){for(r.__e=r.__c.base=null,o=0;o<r.__k.length;o++)if(null!=(e=r.__k[o])&&null!=e.__e){r.__e=r.__c.base=e.__e;break}return fc(r)}}function pb(r){(!r.__d&&(r.__d=!0)&&nb.push(r)&&!Va.__r++||Dd!==k.debounceRendering)&&((Dd=k.debounceRendering)||Cd)(Va)}function Va(){for(var r;Va.__r=nb.length;)r=nb.sort(function(r,o){return r.__v.__b-o.__v.__b}),nb=[],r.some(function(r){var o,e,t,$,n,a,_;r.__d&&(a=(n=(o=r).__v).__e,(_=o.__P)&&(e=[],(t=ba({},n)).__v=n.__v+1,$=rb(_,n,t,o.__n,void 0!==_.ownerSVGElement,null!=n.__h?[a]:null,e,null==a?Fa(n):a,n.__h),kc(e,n),$!=a&&fc(n)))})}function gc(r,o,e,t,$,n,a,_,l,i){var p,u,s,S,v,c,f,d=t&&t.__k||ob,h=d.length;for(l==ha&&(l=null!=a?a[0]:h?Fa(t,0):null),e.__k=[],p=0;p<o.length;p++)if(null!=(S=e.__k[p]=null==(S=o[p])||"boolean"==typeof S?null:"string"==typeof S||"number"==typeof S?Da(null,S,null,null,S):Array.isArray(S)?Da(Ea,{children:S},null,null,null):null!=S.__e||null!=S.__c?Da(S.type,S.props,S.key,null,S.__v):S)){if(S.__=e,S.__b=e.__b+1,null===(s=d[p])||s&&S.key==s.key&&S.type===s.type)d[p]=void 0;else for(u=0;u<h;u++){if((s=d[u])&&S.key==s.key&&S.type===s.type){d[u]=void 0;break}s=null}v=rb(r,S,s=s||ha,$,n,a,_,l,i),(u=S.ref)&&s.ref!=u&&(f||(f=[]),s.ref&&f.push(s.ref,null,S),f.push(u,S.__c||v,S)),null!=v?(null==c&&(c=v),l=hc(r,S,s,d,a,v,l),i||"option"!=e.type?"function"==typeof e.type&&(e.__d=l):r.value=""):l&&s.__e==l&&l.parentNode!=r&&(l=Fa(s))}if(e.__e=c,null!=a&&"function"!=typeof e.type)for(p=a.length;p--;)null!=a[p]&&ec(a[p]);for(p=h;p--;)null!=d[p]&&mc(d[p],d[p]);if(f)for(p=0;p<f.length;p++)lc(f[p],f[++p],f[++p])}function qb(r,o){return o=o||[],null==r||"boolean"==typeof r||(Array.isArray(r)?r.some(function(r){qb(r,o)}):o.push(r)),o}function hc(r,o,e,t,$,n,a){var _,l,i;if(void 0!==o.__d)_=o.__d,o.__d=void 0;else if($==e||n!=a||null==n.parentNode)r:if(null==a||a.parentNode!==r)r.appendChild(n),_=null;else{for(l=a,i=0;(l=l.nextSibling)&&i<t.length;i+=2)if(l==n)break r;r.insertBefore(n,a),_=a}return void 0!==_?_:n.nextSibling}function Hd(r,o,e,t,$){var n;for(n in e)"children"===n||"key"===n||n in o||Wa(r,n,null,e[n],t);for(n in o)$&&"function"!=typeof o[n]||"children"===n||"key"===n||"value"===n||"checked"===n||e[n]===o[n]||Wa(r,n,o[n],e[n],t)}function ic(r,o,e){"-"===o[0]?r.setProperty(o,e):r[o]=null==e?"":"number"!=typeof e||Gd.test(o)?e:e+"px"}function Wa(r,o,e,t,$){var n,a,_;if($&&"className"==o&&(o="class"),"style"===o){if("string"==typeof e)r.style.cssText=e;else{if("string"==typeof t&&(r.style.cssText=t=""),t)for(o in t)e&&o in e||ic(r.style,o,"");if(e)for(o in e)t&&e[o]===t[o]||ic(r.style,o,e[o])}}else"o"===o[0]&&"n"===o[1]?(n=o!==(o=o.replace(/Capture$/,"")),(a=o.toLowerCase())in r&&(o=a),o=o.slice(2),r.l||(r.l={}),r.l[o+n]=e,_=n?Jd:Id,e?t||r.addEventListener(o,_,n):r.removeEventListener(o,_,n)):"list"!==o&&"tagName"!==o&&"form"!==o&&"type"!==o&&"size"!==o&&"download"!==o&&"href"!==o&&!$&&o in r?r[o]=null==e?"":e:"function"!=typeof e&&"dangerouslySetInnerHTML"!==o&&(o!==(o=o.replace(/xlink:?/,""))?null==e||!1===e?r.removeAttributeNS("http://www.w3.org/1999/xlink",o.toLowerCase()):r.setAttributeNS("http://www.w3.org/1999/xlink",o.toLowerCase(),e):null==e||!1===e&&!/^ar/.test(o)?r.removeAttribute(o):r.setAttribute(o,e))}function Id(r){this.l[r.type+!1](k.event?k.event(r):r)}function Jd(r){this.l[r.type+!0](k.event?k.event(r):r)}function jc(r,o,e){var t,$;for(t=0;t<r.__k.length;t++)($=r.__k[t])&&($.__=r,$.__e&&("function"==typeof $.type&&$.__k.length>1&&jc($,o,e),o=hc(e,$,$,r.__k,null,$.__e,o),"function"==typeof r.type&&(r.__d=o)))}function rb(r,o,e,t,$,n,a,_,l){var i,p,u,s,S,v,c,f,d,h,x,m=o.type;if(void 0!==o.constructor)return null;null!=e.__h&&(l=e.__h,_=o.__e=e.__e,o.__h=null,n=[_]),(i=k.__b)&&i(o);try{r:if("function"==typeof m){if(f=o.props,d=(i=m.contextType)&&t[i.__c],h=i?d?d.props.value:i.__:t,e.__c?c=(p=o.__c=e.__c).__=p.__E:("prototype"in m&&m.prototype.render?o.__c=p=new m(f,h):(o.__c=p=new D(f,h),p.constructor=m,p.render=Ld),d&&d.sub(p),p.props=f,p.state||(p.state={}),p.context=h,p.__n=t,u=p.__d=!0,p.__h=[]),null==p.__s&&(p.__s=p.state),null!=m.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=ba({},p.__s)),ba(p.__s,m.getDerivedStateFromProps(f,p.__s))),s=p.props,S=p.state,u)null==m.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==m.getDerivedStateFromProps&&f!==s&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(f,h),!p.__e&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(f,p.__s,h)||o.__v===e.__v){p.props=f,p.state=p.__s,o.__v!==e.__v&&(p.__d=!1),p.__v=o,o.__e=e.__e,o.__k=e.__k,p.__h.length&&a.push(p),jc(o,_,r);break r}null!=p.componentWillUpdate&&p.componentWillUpdate(f,p.__s,h),null!=p.componentDidUpdate&&p.__h.push(function(){p.componentDidUpdate(s,S,v)})}p.context=h,p.props=f,p.state=p.__s,(i=k.__r)&&i(o),p.__d=!1,p.__v=o,p.__P=r,i=p.render(p.props,p.state,p.context),p.state=p.__s,null!=p.getChildContext&&(t=ba(ba({},t),p.getChildContext())),u||null==p.getSnapshotBeforeUpdate||(v=p.getSnapshotBeforeUpdate(s,S)),x=null!=i&&i.type==Ea&&null==i.key?i.props.children:i,gc(r,Array.isArray(x)?x:[x],o,e,t,$,n,a,_,l),p.base=o.__e,o.__h=null,p.__h.length&&a.push(p),c&&(p.__E=p.__=null),p.__e=!1}else null==n&&o.__v===e.__v?(o.__k=e.__k,o.__e=e.__e):o.__e=Kd(e.__e,o,e,t,$,n,a,l);(i=k.diffed)&&i(o)}catch(r){o.__v=null,(l||null!=n)&&(o.__e=_,o.__h=!!l,n[n.indexOf(_)]=null),k.__e(r,o,e)}return o.__e}function kc(r,o){k.__c&&k.__c(o,r),r.some(function(o){try{r=o.__h,o.__h=[],r.some(function(r){r.call(o)})}catch(r){k.__e(r,o.__v)}})}function Kd(r,o,e,t,$,n,a,_){var l,i,p,u,s,S=e.props,v=o.props;if($="svg"===o.type||$,null!=n)for(l=0;l<n.length;l++)if(null!=(i=n[l])&&((null===o.type?3===i.nodeType:i.localName===o.type)||r==i)){r=i,n[l]=null;break}if(null==r){if(null===o.type)return document.createTextNode(v);r=$?document.createElementNS("http://www.w3.org/2000/svg",o.type):document.createElement(o.type,v.is&&{is:v.is}),n=null,_=!1}if(null===o.type)S===v||_&&r.data===v||(r.data=v);else{if(null!=n&&(n=ob.slice.call(r.childNodes)),p=(S=e.props||ha).dangerouslySetInnerHTML,u=v.dangerouslySetInnerHTML,!_){if(null!=n)for(S={},s=0;s<r.attributes.length;s++)S[r.attributes[s].name]=r.attributes[s].value;(u||p)&&(u&&(p&&u.__html==p.__html||u.__html===r.innerHTML)||(r.innerHTML=u&&u.__html||""))}Hd(r,v,S,$,_),u?o.__k=[]:(l=o.props.children,gc(r,Array.isArray(l)?l:[l],o,e,t,"foreignObject"!==o.type&&$,n,a,ha,_)),_||("value"in v&&void 0!==(l=v.value)&&(l!==r.value||"progress"===o.type&&!l)&&Wa(r,"value",l,S.value,!1),"checked"in v&&void 0!==(l=v.checked)&&l!==r.checked&&Wa(r,"checked",l,S.checked,!1))}return r}function lc(r,o,e){try{"function"==typeof r?r(o):r.current=o}catch(r){k.__e(r,e)}}function mc(r,o,e){var t,$,n;if(k.unmount&&k.unmount(r),(t=r.ref)&&(t.current&&t.current!==r.__e||lc(t,null,o)),e||"function"==typeof r.type||(e=null!=($=r.__e)),r.__e=r.__d=void 0,null!=(t=r.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(r){k.__e(r,o)}t.base=t.__P=null}if(t=r.__k)for(n=0;n<t.length;n++)t[n]&&mc(t[n],o,e);null!=$&&ec($)}function Ld(r,o,e){return this.constructor(r,e)}function Md(r,o,e){var t,$,n;k.__&&k.__(r,o),$=(t=e===Ed)?null:e&&e.__k||o.__k,r=j(Ea,null,[r]),n=[],rb(o,(t?o:e||o).__k=r,$||ha,ha,void 0!==o.ownerSVGElement,e&&!t?[e]:$?null:o.childNodes.length?ob.slice.call(o.childNodes):null,n,e||ha,t),kc(n,r)}function Nd(r,o,e){var t,$,n,a=arguments,_=ba({},r.props);for(n in o)"key"==n?t=o[n]:"ref"==n?$=o[n]:_[n]=o[n];if(arguments.length>3)for(e=[e],n=3;n<arguments.length;n++)e.push(a[n]);return null!=e&&(_.children=e),Da(r.type,_,t||r.key,$||r.ref,null)}function Od(r,o){var e={__c:o="__cC"+Fd++,__:r,Consumer:function(r,o){return r.children(o)},Provider:function(r,e,t){return this.getChildContext||(e=[],(t={})[o]=this,this.getChildContext=function(){return t},this.shouldComponentUpdate=function(r){this.props.value!==r.value&&e.some(pb)},this.sub=function(r){e.push(r);var o=r.componentWillUnmount;r.componentWillUnmount=function(){e.splice(e.indexOf(r),1),o&&o.call(r)}}),r.children}};return e.Provider.__=e.Consumer.contextType=e}b=k={__e:function(r,o){for(var e,t,$,n=o.__h;o=o.__;)if((e=o.__c)&&!e.__)try{if((t=e.constructor)&&null!=t.getDerivedStateFromError&&(e.setState(t.getDerivedStateFromError(r)),$=e.__d),null!=e.componentDidCatch&&(e.componentDidCatch(r),$=e.__d),$)return o.__h=n,e.__E=e}catch(o){r=o}throw r},__v:0},a=c=function(r){return null!=r&&void 0===r.constructor},D.prototype.setState=function(r,o){var e;e=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=ba({},this.state),"function"==typeof r&&(r=r(ba({},e),this.props)),r&&ba(e,r),null!=r&&this.__v&&(o&&this.__h.push(o),pb(this))},D.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),pb(this))},D.prototype.render=Ea,nb=[],Cd="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Va.__r=0,Ed=ha,Fd=0;function Xa(t){return"/"===t.charAt(0)?t:"/"+t}function nc(t){return"/"===t.charAt(0)?t.substr(1):t}function Pd(t,e){return 0===t.toLowerCase().indexOf(e.toLowerCase())&&-1!=="/?#".indexOf(t.charAt(e.length))}function Qd(t,e){return Pd(t,e)?t.substr(e.length):t}function Rd(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function Sd(t){var e=t||"/",n="",a="",o=e.indexOf("#");-1!==o&&(a=e.substr(o),e=e.substr(0,o));var r=e.indexOf("?");return-1!==r&&(n=e.substr(r),e=e.substr(0,r)),{pathname:e,search:"?"===n?"":n,hash:"#"===a?"":a}}function ca(t){var e=t.pathname,n=t.search,a=t.hash,o=e||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),a&&"#"!==a&&(o+="#"===a.charAt(0)?a:"#"+a),o}function sb(t,e,n,a){var o;"string"==typeof t?(o=Sd(t)).state=e:(void 0===(o=oc({},t)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==e&&void 0===o.state&&(o.state=e));try{o.pathname=decodeURI(o.pathname)}catch(r){throw r instanceof URIError?new URIError("Pathname \""+o.pathname+"\" could not be decoded. This is likely caused by an invalid percent-encoding."):r}return n&&(o.key=n),a?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=Vd(o.pathname,a.pathname)):o.pathname=a.pathname:o.pathname||(o.pathname="/"),o}function Td(){var t=null;var e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,a,o){if(null!=t){var r="function"==typeof t?t(e,n):t;"string"==typeof r?"function"==typeof a?a(r,o):o(!0):o(!1!==r)}else o(!0)},appendListener:function(t){var n=!0;function a(){n&&t.apply(void 0,arguments)}return e.push(a),function(){n=!1,e=e.filter(function(t){return t!==a})}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];e.forEach(function(t){return t.apply(void 0,n)})}}}function Ud(){return(Ud=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var $ in e)Object.prototype.hasOwnProperty.call(e,$)&&(r[$]=e[$])}return r}).apply(this,arguments)}var oc=Ud;function Ya($){return"/"===$.charAt(0)}function tb($,e){for(var r=e,t=r+1,n=$.length;t<n;r+=1,t+=1)$[r]=$[t];$.pop()}function Vd($,e){void 0===e&&(e="");var r,t=$&&$.split("/")||[],n=e&&e.split("/")||[],s=$&&Ya($),a=e&&Ya(e),i=s||a;if($&&Ya($)?n=t:t.length&&(n.pop(),n=n.concat(t)),!n.length)return"/";if(n.length){var l=n[n.length-1];r="."===l||".."===l||""===l}else r=!1;for(var o=0,A=n.length;A>=0;A--){var u=n[A];"."===u?tb(n,A):".."===u?(tb(n,A),o++):o&&(tb(n,A),o--)}if(!i)for(;o--;o)n.unshift("..");!i||""===n[0]||n[0]&&Ya(n[0])||n.unshift("");var v=n.join("/");return r&&"/"!==v.substr(-1)&&(v+="/"),v}function pc(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}function ub(e,r){if(e===r)return!0;if(null==e||null==r)return!1;if(Array.isArray(e))return Array.isArray(r)&&e.length===r.length&&e.every(function(e,t){return ub(e,r[t])});if("object"==typeof e||"object"==typeof r){var t=pc(e),$=pc(r);return t!==e||$!==r?ub(t,$):Object.keys(Object.assign({},e,r)).every(function(t){return ub(e[t],r[t])})}return!1}var Wd=!0,qc="Invariant failed";function Xd($,r){if(!$){if(Wd)throw new Error(qc);throw new Error(qc+": "+(r||""))}}var Yd=!("undefined"==typeof window||!window.document||!window.document.createElement);function Zd(t,e){e(window.confirm(t))}function $d(){return-1===window.navigator.userAgent.indexOf("Firefox")}var rc="hashchange",_d={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+nc(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:nc,decodePath:Xa},slash:{encodePath:Xa,decodePath:Xa}};function sc(t){var e=t.indexOf("#");return-1===e?t:t.slice(0,e)}function Ga(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)}function ae(t){window.location.hash=t}function vb(t){window.location.replace(sc(window.location.href)+"#"+t)}function be(t){void 0===t&&(t={}),Yd||Xd(!1);var e=window.history,n=($d(),t),a=n.getUserConfirmation,o=void 0===a?Zd:a,r=n.hashType,i=void 0===r?"slash":r,$=t.basename?Rd(Xa(t.basename)):"",s=_d[i],c=s.encodePath,p=s.decodePath;function h(){var t=p(Ga());return $&&(t=Qd(t,$)),sb(t)}var u=Td();function v(t){oc(L,t),L.length=e.length,u.notifyListeners(L.location,L.action)}var f=!1,l=null;function d(){var t,e,n=Ga(),a=c(n);if(n!==a)vb(a);else{var r=h(),i=L.location;if(!f&&(e=r,(t=i).pathname===e.pathname&&t.search===e.search&&t.hash===e.hash))return;if(l===ca(r))return;l=null,function(t){if(f)f=!1,v();else{u.confirmTransitionTo(t,"POP",o,function(e){e?v({action:"POP",location:t}):function(t){var e=L.location,n=m.lastIndexOf(ca(e));-1===n&&(n=0);var a=m.lastIndexOf(ca(t));-1===a&&(a=0);var o=n-a;o&&(f=!0,x(o))}(t)})}}(r)}}var W=Ga(),g=c(W);W!==g&&vb(g);var P=h(),m=[ca(P)];function x(t){e.go(t)}var w=0;function y(t){1===(w+=t)&&1===t?window.addEventListener(rc,d):0===w&&window.removeEventListener(rc,d)}var H=!1;var L={length:e.length,action:"POP",location:P,createHref:function(t){var e=document.querySelector("base"),n="";return e&&e.getAttribute("href")&&(n=sc(window.location.href)),n+"#"+c($+ca(t))},push:function(t,e){var n=sb(t,void 0,void 0,L.location);u.confirmTransitionTo(n,"PUSH",o,function(t){if(t){var e=ca(n),a=c($+e);if(Ga()!==a){l=e,ae(a);var o=m.lastIndexOf(ca(L.location)),r=m.slice(0,o+1);r.push(e),m=r,v({action:"PUSH",location:n})}else v()}})},replace:function(t,e){var n=sb(t,void 0,void 0,L.location);u.confirmTransitionTo(n,"REPLACE",o,function(t){if(t){var e=ca(n),a=c($+e);Ga()!==a&&(l=e,vb(a));var o=m.indexOf(ca(L.location));-1!==o&&(m[o]=e),v({action:"REPLACE",location:n})}})},go:x,goBack:function(){x(-1)},goForward:function(){x(1)},block:function(t){void 0===t&&(t=!1);var e=u.setPrompt(t);return H||(y(1),H=!0),function(){return H&&(H=!1,y(-1)),e()}},listen:function(t){var e=u.appendListener(t);return y(1),function(){y(-1),e()}}};return L}var ce={};function tc(t,r){for(var e in r)t[e]=r[e];return t}function uc(t,r,e){var $,o=/(?:\?([^#]*))?(#.*)?$/,n=t.match(o),i={};if(n&&n[1])for(var a=n[1].split("&"),u=0;u<a.length;u++){var p=a[u].split("=");i[decodeURIComponent(p[0])]=decodeURIComponent(p.slice(1).join("="))}t=wb(t.replace(o,"")),r=wb(r||"");for(var s=Math.max(t.length,r.length),C=0;C<s;C++)if(r[C]&&":"===r[C].charAt(0)){var c=r[C].replace(/(^:|[+*?]+$)/g,""),W=(r[C].match(/[+*?]+$/)||ce)[0]||"",Q=~W.indexOf("+"),l=~W.indexOf("*"),v=t[C]||"";if(!v&&!l&&(W.indexOf("?")<0||Q)){$=!1;break}if(i[c]=decodeURIComponent(v),Q||l){i[c]=t.slice(C).map(decodeURIComponent).join("/");break}}else if(r[C]!==t[C]){$=!1;break}return(!0===e.default||!1!==$)&&i}function de(t,r){return t.rank<r.rank?1:t.rank>r.rank?-1:t.index-r.index}function ee(t,r){return t.index=r,t.rank=he(t),t.props}function wb(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function fe(t){return":"==t.charAt(0)?1+"*+?".indexOf(t.charAt(t.length-1))||4:5}function ge(t){return wb(t).map(fe).join("")}function he(t){return t.props.default?0:ge(t.props.path)}var U=null,na=[],xb=[],ie={};function je(t,r){void 0===r&&(r="push"),U&&U[r]?U[r](t):"undefined"!=typeof history&&history[r+"State"]&&history[r+"State"](null,null,t)}function yb(){var t;return""+((t=U&&U.location?U.location:U&&U.getCurrentLocation?U.getCurrentLocation():"undefined"!=typeof location?location:ie).pathname||"")+(t.search||"")}function Ha(t,r){return void 0===r&&(r=!1),"string"!=typeof t&&t.url&&(r=t.replace,t=t.url),ke(t)&&je(t,r?"replace":"push"),vc(t)}function ke(t){for(var r=na.length;r--;)if(na[r].canRoute(t))return!0;return!1}function vc(t){for(var r=!1,e=0;e<na.length;e++)!0===na[e].routeTo(t)&&(r=!0);for(var $=xb.length;$--;)xb[$](t);return r}function wc(t){if(t&&t.getAttribute){var r=t.getAttribute("href"),e=t.getAttribute("target");if(r&&r.match(/^\//g)&&(!e||e.match(/^_?self$/i)))return Ha(r)}}function le(t){if(!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||0!==t.button))return wc(t.currentTarget||t.target||this),xc(t)}function xc(t){return t&&(t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.stopPropagation&&t.stopPropagation(),t.preventDefault()),!1}function me(t){if(!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||0!==t.button)){var r=t.target;do{if("A"===String(r.nodeName).toUpperCase()&&r.getAttribute("href")){if(r.hasAttribute("native"))return;if(wc(r))return xc(t)}}while(r=r.parentNode)}}var ne=!1;function oe(){ne||("function"==typeof addEventListener&&(U||addEventListener("popstate",function(){vc(yb())}),addEventListener("click",me)),ne=!0)}var da=function(t){function r(r){t.call(this,r),r.history&&(U=r.history),this.state={url:r.url||yb()},oe()}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.shouldComponentUpdate=function(t){return!0!==t.static||t.url!==this.props.url||t.onChange!==this.props.onChange},r.prototype.canRoute=function(t){var r=qb(this.props.children);return this.getMatchingChildren(r,t,!1).length>0},r.prototype.routeTo=function(t){this.setState({url:t});var r=this.canRoute(t);return this.updating||this.forceUpdate(),r},r.prototype.componentWillMount=function(){na.push(this),this.updating=!0},r.prototype.componentDidMount=function(){var t=this;U&&(this.unlisten=U.listen(function(r){t.routeTo(""+(r.pathname||"")+(r.search||""))})),this.updating=!1},r.prototype.componentWillUnmount=function(){"function"==typeof this.unlisten&&this.unlisten(),na.splice(na.indexOf(this),1)},r.prototype.componentWillUpdate=function(){this.updating=!0},r.prototype.componentDidUpdate=function(){this.updating=!1},r.prototype.getMatchingChildren=function(t,r,e){return t.filter(ee).sort(de).map(function(t){var $=uc(r,t.props.path,t.props);if($){if(!1!==e){var o={url:r,matches:$};return tc(o,$),delete o.ref,delete o.key,Nd(t,o)}return t}}).filter(Boolean)},r.prototype.render=function(t,r){var e=t.children,$=t.onChange,o=r.url,n=this.getMatchingChildren(qb(e),o,!0),i=n[0]||null,a=this.previousUrl;return o!==a&&(this.previousUrl=o,"function"==typeof $&&$({router:this,url:o,previous:a,active:n,current:i})),i},r}(D),yc=function(t){return j("a",tc({onClick:le},t))},pe=function(t){return j(t.component,t)};da.subscribers=xb,da.getCurrentUrl=yb,da.route=Ha,da.Router=da,da.Route=pe,da.Link=yc,da.exec=uc;function qe(r){for(;r;){var e=r,o=e.closed,t=e.destination,$=e.isStopped;if(o||$)return!1;r=t&&t instanceof E?t:null}return!0}var re=function(t,e){return(re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function B(t,e){function r(){this.constructor=t}re(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var se=function(){return se=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},se.apply(this,arguments)};function zc(t){return this instanceof zc?(this.v=t,this):new zc(t)}function Ia(n){return"function"==typeof n}var te=!1,X={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&new Error().stack;te=e},get useDeprecatedSynchronousErrorHandling(){return te}};function ta(r){setTimeout(function(){throw r},0)}var Za={closed:!0,next:function(r){},error:function(r){if(X.useDeprecatedSynchronousErrorHandling)throw r;ta(r)},complete:function(){}};var Ac=function(){return Array.isArray||function(r){return r&&"number"==typeof r.length}}();function Bc(r){return null!==r&&"object"==typeof r}var ue=function(){function r(r){return Error.call(this),this.message=r?r.length+" errors occurred during unsubscription:\n"+r.map(function(r,o){return o+1+") "+r.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=r,this}return r.prototype=Object.create(Error.prototype),r}(),$a=ue;var ea=function(){function r(r){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,r&&(this._ctorUnsubscribe=!0,this._unsubscribe=r)}var i;return r.prototype.unsubscribe=function(){var i;if(!this.closed){var t=this._parentOrParents,s=this._ctorUnsubscribe,n=this._unsubscribe,e=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof r)t.remove(this);else if(null!==t)for(var o=0;o<t.length;++o){t[o].remove(this)}if(Ia(n)){s&&(this._unsubscribe=void 0);try{n.call(this)}catch(a){i=a instanceof $a?Cc(a.errors):[a]}}if(Ac(e)){o=-1;for(var u=e.length;++o<u;){var c=e[o];if(Bc(c))try{c.unsubscribe()}catch(a){i=i||[],a instanceof $a?i=i.concat(Cc(a.errors)):i.push(a)}}}if(i)throw new $a(i)}},r.prototype.add=function(i){var t=i;if(!i)return r.EMPTY;switch(typeof i){case"function":t=new r(i);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof r)){var s=t;(t=new r)._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+i+" added to Subscription.");}var n=t._parentOrParents;if(null===n)t._parentOrParents=this;else if(n instanceof r){if(n===this)return t;t._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return t;n.push(this)}var e=this._subscriptions;return null===e?this._subscriptions=[t]:e.push(t),t},r.prototype.remove=function(r){var i=this._subscriptions;if(i){var t=i.indexOf(r);-1!==t&&i.splice(t,1)}},r.EMPTY=((i=new r).closed=!0,i),r}();function Cc(r){return r.reduce(function(r,i){return r.concat(i instanceof $a?i.errors:i)},[])}var _a=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}();var E=function(r){function t(e,i,o){var s=r.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=Za;break;case 1:if(!e){s.destination=Za;break}if("object"==typeof e){e instanceof t?(s.syncErrorThrowable=e.syncErrorThrowable,s.destination=e,e.add(s)):(s.syncErrorThrowable=!0,s.destination=new Dc(s,e));break}default:s.syncErrorThrowable=!0,s.destination=new Dc(s,e,i,o);}return s}return B(t,r),t.prototype[_a]=function(){return this},t.create=function(r,e,i){var o=new t(r,e,i);return o.syncErrorThrowable=!1,o},t.prototype.next=function(r){this.isStopped||this._next(r)},t.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this))},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},t}(ea);var Dc=function(r){function t(t,e,i,o){var s,n=r.call(this)||this;n._parentSubscriber=t;var c=n;return Ia(e)?s=e:e&&(s=e.next,i=e.error,o=e.complete,e!==Za&&(c=Object.create(e),Ia(c.unsubscribe)&&n.add(c.unsubscribe.bind(c)),c.unsubscribe=n.unsubscribe.bind(n))),n._context=c,n._next=s,n._error=i,n._complete=o,n}return B(t,r),t.prototype.next=function(r){if(!this.isStopped&&this._next){var t=this._parentSubscriber;X.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,r)&&this.unsubscribe():this.__tryOrUnsub(this._next,r)}},t.prototype.error=function(r){if(!this.isStopped){var t=this._parentSubscriber,e=X.useDeprecatedSynchronousErrorHandling;if(this._error)e&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,r),this.unsubscribe()):(this.__tryOrUnsub(this._error,r),this.unsubscribe());else if(t.syncErrorThrowable)e?(t.syncErrorValue=r,t.syncErrorThrown=!0):ta(r),this.unsubscribe();else{if(this.unsubscribe(),e)throw r;ta(r)}}},t.prototype.complete=function(){var r=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var e=function(){return r._complete.call(r._context)};X.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(r,t){try{r.call(this._context,t)}catch(e){if(this.unsubscribe(),X.useDeprecatedSynchronousErrorHandling)throw e;ta(e)}},t.prototype.__tryOrSetError=function(r,t,e){if(!X.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,e)}catch(i){return X.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=i,r.syncErrorThrown=!0,!0):(ta(i),!0)}return!1},t.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},t}(E);function ve(r,e,$){if(r){if(r instanceof E)return r;if(r[_a])return r[_a]()}return r||e||$?new E(r,e,$):new E(Za)}var Ja=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function we(r){return 0===r.length?xe:1===r.length?r[0]:function(e){return r.reduce(function(r,e){return e(r)},e)}}function xe(t){return t}var K=function(){function r(r){this._isScalar=!1,r&&(this._subscribe=r)}return r.prototype.lift=function(e){var o=new r;return o.source=this,o.operator=e,o},r.prototype.subscribe=function(r,e,o){var t=this.operator,n=ve(r,e,o);if(t?n.add(t.call(n,this.source)):n.add(this.source||X.useDeprecatedSynchronousErrorHandling&&!n.syncErrorThrowable?this._subscribe(n):this._trySubscribe(n)),X.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable&&(n.syncErrorThrowable=!1,n.syncErrorThrown))throw n.syncErrorValue;return n},r.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(e){X.useDeprecatedSynchronousErrorHandling&&(r.syncErrorThrown=!0,r.syncErrorValue=e),qe(r)?r.error(e):console.warn(e)}},r.prototype.forEach=function(r,e){var o=this;return new(e=Ec(e))(function(e,t){var n;n=o.subscribe(function(e){try{r(e)}catch(o){t(o),n&&n.unsubscribe()}},t,e)})},r.prototype._subscribe=function(r){var e=this.source;return e&&e.subscribe(r)},r.prototype[Ja]=function(){return this},r.prototype.pipe=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return 0===r.length?this:we(r)(this)},r.prototype.toPromise=function(r){var e=this;return new(r=Ec(r))(function(r,o){var t;e.subscribe(function(r){return t=r},function(r){return o(r)},function(){return r(t)})})},r.create=function(e){return new r(e)},r}();function Ec(r){if(r||(r=X.Promise||Promise),!r)throw new Error("no Promise impl found");return r}var ye=function(){function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return r.prototype=Object.create(Error.prototype),r}(),ua=ye;var ze=function(t){function e(e,i){var r=t.call(this)||this;return r.subject=e,r.subscriber=i,r.closed=!1,r}return B(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}},e}(ea);var Ae=function(r){function t(t){var e=r.call(this,t)||this;return e.destination=t,e}return B(t,r),t}(E);var oa=function(r){function t(){var t=r.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return B(t,r),t.prototype[_a]=function(){return new Ae(this)},t.prototype.lift=function(r){var t=new Fc(this,this);return t.operator=r,t},t.prototype.next=function(r){if(this.closed)throw new ua;if(!this.isStopped)for(var t=this.observers,e=t.length,o=t.slice(),i=0;i<e;i++)o[i].next(r)},t.prototype.error=function(r){if(this.closed)throw new ua;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var t=this.observers,e=t.length,o=t.slice(),i=0;i<e;i++)o[i].error(r);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new ua;this.isStopped=!0;for(var r=this.observers,t=r.length,e=r.slice(),o=0;o<t;o++)e[o].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new ua;return r.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(r){if(this.closed)throw new ua;return this.hasError?(r.error(this.thrownError),ea.EMPTY):this.isStopped?(r.complete(),ea.EMPTY):(this.observers.push(r),new ze(this,r))},t.prototype.asObservable=function(){var r=new K;return r.source=this,r},t.create=function(r,t){return new Fc(r,t)},t}(K);var Fc=function(r){function t(t,e){var o=r.call(this)||this;return o.destination=t,o.source=e,o}return B(t,r),t.prototype.next=function(r){var t=this.destination;t&&t.next&&t.next(r)},t.prototype.error=function(r){var t=this.destination;t&&t.error&&this.destination.error(r)},t.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},t.prototype._subscribe=function(r){return this.source?this.source.subscribe(r):ea.EMPTY},t}(oa);var Be=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return B(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r&&!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ua;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(oa);var Ce=new K(function(e){return e.complete()});function De(e){return e?Ee(e):Ce}function Ee(e){return new K(function($){return e.schedule(function(){return $.complete()})})}function Fe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var $=r[r.length-1];return Ge($)?(r.pop(),zb(r,$)):He(r)}function Ge(e){return e&&"function"==typeof e.schedule}function He(r,e){return e?zb(r,e):new K(Gc(r))}var Gc=function(r){return function(e){for(var o=0,t=r.length;o<t&&!e.closed;o++)e.next(r[o]);e.complete()}};function zb(e,r){return new K(function($){var t=new ea,c=0;return t.add(r.schedule(function(){c!==e.length?($.next(e[c++]),$.closed||t.add(this.schedule())):$.complete()})),t})}function ia(){}var Ie=function(){function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r}(),Je=Ie;function ja(r,t){return function(e){if("function"!=typeof r)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return e.lift(new Ke(r,t))}}var Ke=function(){function r(r,t){this.project=r,this.thisArg=t}return r.prototype.call=function(r,t){return t.subscribe(new Le(r,this.project,this.thisArg))},r}();var Le=function(r){function t(t,e,o){var i=r.call(this,t)||this;return i.project=e,i.count=0,i.thisArg=o||i,i}return B(t,r),t.prototype._next=function(r){var t;try{t=this.project.call(this.thisArg,r,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(E);var Me=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return B(r,t),r.prototype.notifyNext=function(t,r,e,i,o){this.destination.next(r)},r.prototype.notifyError=function(t,r){this.destination.error(t)},r.prototype.notifyComplete=function(t){this.destination.complete()},r}(E);function Ne(e,r,$,s,b){if(void 0===b&&(b=new Oe(e,$,s)),!b.closed)return r instanceof K?r.subscribe(b):Ab(r)(b)}var Oe=function(r){function t(t,e,i){var n=r.call(this)||this;return n.parent=t,n.outerValue=e,n.outerIndex=i,n.index=0,n}return B(t,r),t.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},t.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(E);var Pe=function(r){return function(e){return r.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,ta),e}};function Qe(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var ab=Qe();var Re=function(r){return function(e){for(var t=r[ab]();;){var o=void 0;try{o=t.next()}catch(n){return e.error(n),e}if(o.done){e.complete();break}if(e.next(o.value),e.closed)break}return"function"==typeof t.return&&e.add(function(){t.return&&t.return()}),e}};var Se=function(e){return function(r){var b=e[Ja]();if("function"!=typeof b.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return b.subscribe(r)}};var Hc=function(r){return r&&"number"==typeof r.length&&"function"!=typeof r};function Ic(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var Ab=function(r){if(r&&"function"==typeof r[Ja])return Se(r);if(Hc(r))return Gc(r);if(Ic(r))return Pe(r);if(r&&"function"==typeof r[ab])return Re(r);var e=Bc(r)?"an invalid object":"'"+r+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function Jc(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof t?function(n){return n.pipe(Jc(function(r,n){return Bb(e(r,n)).pipe(ja(function(e,i){return t(r,e,n,i)}))},r))}:("number"==typeof t&&(r=t),function(t){return t.lift(new Ze(e,r))})}function Bb(e,r){return r?Te(e,r):e instanceof K?e:new K(Ab(e))}function Te(e,r){if(null!=e){if(Xe(e))return Ue(e,r);if(Ic(e))return Ve(e,r);if(Hc(e))return zb(e,r);if(Ye(e)||"string"==typeof e)return We(e,r)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function Ue(e,r){return new K(function(l){var n=new ea;return n.add(r.schedule(function(){var t=e[Ja]();n.add(t.subscribe({next:function(e){n.add(r.schedule(function(){return l.next(e)}))},error:function(e){n.add(r.schedule(function(){return l.error(e)}))},complete:function(){n.add(r.schedule(function(){return l.complete()}))}}))})),n})}function Ve(e,r){return new K(function(n){var t=new ea;return t.add(r.schedule(function(){return e.then(function(e){t.add(r.schedule(function(){n.next(e),t.add(r.schedule(function(){return n.complete()}))}))},function(e){t.add(r.schedule(function(){return n.error(e)}))})})),t})}function We(e,r){if(!e)throw new Error("Iterable cannot be null");return new K(function(t){var n,o=new ea;return o.add(function(){n&&"function"==typeof n.return&&n.return()}),o.add(r.schedule(function(){n=e[ab](),o.add(r.schedule(function(){if(!t.closed){var e,r;try{var o=n.next();e=o.value,r=o.done}catch($){return void t.error($)}r?t.complete():(t.next(e),this.schedule())}}))})),o})}function Xe(e){return e&&"function"==typeof e[Ja]}function Ye(r){return r&&"function"==typeof r[ab]}var Kc=function(t){function r(r){var e=t.call(this)||this;return e.parent=r,e}return B(r,t),r.prototype._next=function(t){this.parent.notifyNext(t)},r.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},r.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},r}(E);var d=function(t){function r(r,e,i){var n=t.call(this)||this;return n.parent=r,n.outerValue=e,n.outerIndex=i,n}return B(r,t),r.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this)},r.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},r.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},r}(E);var Lc=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return B(r,t),r.prototype.notifyNext=function(t){this.destination.next(t)},r.prototype.notifyError=function(t){this.destination.error(t)},r.prototype.notifyComplete=function(){this.destination.complete()},r}(E);var e=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return B(r,t),r.prototype.notifyNext=function(t,r,e,i){this.destination.next(r)},r.prototype.notifyError=function(t){this.destination.error(t)},r.prototype.notifyComplete=function(t){this.destination.complete()},r}(E);function Mc(t,r){if(!r.closed)return t instanceof K?t.subscribe(r):Ab(t)(r)}var Ze=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new $e(e,this.project,this.concurrent))},e}();var $e=function(e){function t(t,r,n){void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=r,i.concurrent=n,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return B(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new Kc(this),r=this.destination;r.add(t);var n=Mc(e,t);n!==t&&r.add(n)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(Lc);var f=function(){return Object.prototype.toString}();function Cb(e,t,r,n){return Ia(r)&&(n=r,r=void 0),n?Cb(e,t,r).pipe(ja(function(e){return Ac(e)?n.apply(void 0,e):n(e)})):new K(function(n){Nc(e,t,function(e){arguments.length>1?n.next(Array.prototype.slice.call(arguments)):n.next(e)},n,r)})}function Nc(e,t,r,n,i){var o;if(bf(e)){var $=e;e.addEventListener(t,r,i),o=function(){return $.removeEventListener(t,r,i)}}else if(af(e)){var Z=e;e.on(t,r),o=function(){return Z.off(t,r)}}else if(_e(e)){var u=e;e.addListener(t,r),o=function(){return u.removeListener(t,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var v=0,a=e.length;v<a;v++)Nc(e[v],t,r,n,i)}n.add(o)}function _e(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}function af(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}function bf(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}function Oc(r,t){return function(i){return i.lift(new cf(r,t))}}var cf=function(){function r(r,t){this.predicate=r,this.thisArg=t}return r.prototype.call=function(r,t){return t.subscribe(new df(r,this.predicate,this.thisArg))},r}(),df=function(r){function t(t,i,e){var n=r.call(this,t)||this;return n.predicate=i,n.thisArg=e,n.count=0,n}return B(t,r),t.prototype._next=function(r){var t;try{t=this.predicate.call(this.thisArg,r,this.count++)}catch(i){return void this.destination.error(i)}t&&this.destination.next(r)},t}(E);function ef(t,r){return function(e){return e.lift(new ff(t,r))}}var ff=function(){function t(t,r){this.compare=t,this.keySelector=r}return t.prototype.call=function(t,r){return r.subscribe(new gf(t,this.compare,this.keySelector))},t}(),gf=function(t){function r(r,e,i){var n=t.call(this,r)||this;return n.keySelector=i,n.hasKey=!1,"function"==typeof e&&(n.compare=e),n}return B(r,t),r.prototype.compare=function(t,r){return t===r},r.prototype._next=function(t){var r;try{var e=this.keySelector;r=e?e(t):t}catch(n){return this.destination.error(n)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,r)}catch(n){return this.destination.error(n)}else this.hasKey=!0;i||(this.key=r,this.destination.next(t))},r}(E);function hf(t){return function(r){return 0===t?De():r.lift(new jf(t))}}var jf=function(){function t(t){if(this.total=t,this.total<0)throw new Je}return t.prototype.call=function(t,r){return r.subscribe(new kf(t,this.total))},t}(),kf=function(t){function r(r,e){var $=t.call(this,r)||this;return $.total=e,$.count=0,$}return B(r,t),r.prototype._next=function(t){var r=this.total,e=++this.count;e<=r&&(this.destination.next(t),e===r&&(this.destination.complete(),this.unsubscribe()))},r}(E);function bb(e){return function(t){return t.lift(new lf(e))}}var lf=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var r=new mf(e),i=Mc(this.notifier,new Kc(r));return i&&!r.seenValue?(r.add(i),t.subscribe(r)):r},e}(),mf=function(e){function t(t){var r=e.call(this,t)||this;return r.seenValue=!1,r}return B(t,e),t.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(Lc);function nf(t,r,o){return function(e){return e.lift(new of(t,r,o))}}var of=function(){function t(t,r,o){this.nextOrObserver=t,this.error=r,this.complete=o}return t.prototype.call=function(t,r){return r.subscribe(new pf(t,this.nextOrObserver,this.error,this.complete))},t}(),pf=function(t){function r(r,o,e,i){var n=t.call(this,r)||this;return n._tapNext=ia,n._tapError=ia,n._tapComplete=ia,n._tapError=e||ia,n._tapComplete=i||ia,Ia(o)?(n._context=n,n._tapNext=o):o&&(n._context=o,n._tapNext=o.next||ia,n._tapError=o.error||ia,n._tapComplete=o.complete||ia),n}return B(r,t),r.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(r){return void this.destination.error(r)}this.destination.next(t)},r.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},r.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},r}(E);function qf(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return function(r){var e;"function"==typeof t[t.length-1]&&(e=t.pop());var o=t;return r.lift(new rf(o,e))}}var rf=function(){function t(t,r){this.observables=t,this.project=r}return t.prototype.call=function(t,r){return r.subscribe(new sf(t,this.observables,this.project))},t}(),sf=function(t){function r(r,e,o){var i=t.call(this,r)||this;i.observables=e,i.project=o,i.toRespond=[];var s=e.length;i.values=new Array(s);for(var n=0;n<s;n++)i.toRespond.push(n);for(n=0;n<s;n++){var a=e[n];i.add(Ne(i,a,void 0,n))}return i}return B(r,t),r.prototype.notifyNext=function(t,r,e){this.values[e]=r;var o=this.toRespond;if(o.length>0){var i=o.indexOf(e);-1!==i&&o.splice(i,1)}},r.prototype.notifyComplete=function(){},r.prototype._next=function(t){if(0===this.toRespond.length){var r=[t].concat(this.values);this.project?this._tryProject(r):this.destination.next(r)}},r.prototype._tryProject=function(t){var r;try{r=this.project.apply(this,t)}catch(e){return void this.destination.error(e)}this.destination.next(r)},r}(Me);var tf,ka;(function($){$.Home="/",$.Game="/game",$.Highscores="/highscores"})(ka||(tf=ka={},tf));var uf,F;(function($){$[$.Easy=0]="Easy",$[$.Medium=1]="Medium",$[$.Hard=2]="Hard",$[$.Custom=3]="Custom"})(F||(uf=F={},uf));const Db=F.Medium;const Ka={[F.Easy]:{tilesX:8,tilesY:8,minesCount:10},[F.Medium]:{tilesX:16,tilesY:16,minesCount:40},[F.Hard]:{tilesX:30,tilesY:16,minesCount:99},[F.Custom]:{tilesX:30,tilesY:24,minesCount:668}};var vf,wf,I,La;(function($){$[$.Closed=0]="Closed",$[$.Running=1]="Running",$[$.Paused=2]="Paused",$[$.Finished=3]="Finished"})(I||(vf=I={},vf)),function($){$[$.Lost=0]="Lost",$[$.Won=1]="Won"}(La||(wf=La={},wf));var Ma=function(){var o={exports:this},r=function(){var o=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",e={};function t(o,r){if(!e[o]){e[o]={};for(var n=0;n<o.length;n++)e[o][o.charAt(n)]=n}return e[o][r]}var s={compressToBase64:function(o){if(null==o)return"";var n=s._compress(o,6,function(o){return r.charAt(o)});switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"=";}},decompressFromBase64:function(o){return null==o?"":""==o?null:s._decompress(o.length,32,function(n){return t(r,o.charAt(n))})},compressToUTF16:function(r){return null==r?"":s._compress(r,15,function(r){return o(r+32)})+" "},decompressFromUTF16:function(o){return null==o?"":""==o?null:s._decompress(o.length,16384,function(r){return o.charCodeAt(r)-32})},compressToUint8Array:function(o){for(var r=s.compress(o),n=new Uint8Array(2*r.length),e=0,t=r.length;e<t;e++){var i=r.charCodeAt(e);n[2*e]=i>>>8,n[2*e+1]=i%256}return n},decompressFromUint8Array:function(r){if(null==r)return s.decompress(r);for(var n=new Array(r.length/2),e=0,t=n.length;e<t;e++)n[e]=256*r[2*e]+r[2*e+1];var i=[];return n.forEach(function(r){i.push(o(r))}),s.decompress(i.join(""))},compressToEncodedURIComponent:function(o){return null==o?"":s._compress(o,6,function(o){return n.charAt(o)})},decompressFromEncodedURIComponent:function(o){return null==o?"":""==o?null:(o=o.replace(/ /g,"+"),s._decompress(o.length,32,function(r){return t(n,o.charAt(r))}))},compress:function(r){return s._compress(r,16,function(r){return o(r)})},_compress:function(o,r,n){if(null==o)return"";var e,t,s,i={},p={},c="",a="",u="",l=2,f=3,h=2,d=[],m=0,v=0;for(s=0;s<o.length;s+=1)if(c=o.charAt(s),Object.prototype.hasOwnProperty.call(i,c)||(i[c]=f++,p[c]=!0),a=u+c,Object.prototype.hasOwnProperty.call(i,a))u=a;else{if(Object.prototype.hasOwnProperty.call(p,u)){if(u.charCodeAt(0)<256){for(e=0;e<h;e++)m<<=1,v==r-1?(v=0,d.push(n(m)),m=0):v++;for(t=u.charCodeAt(0),e=0;e<8;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}else{for(t=1,e=0;e<h;e++)m=m<<1|t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t=0;for(t=u.charCodeAt(0),e=0;e<16;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}0==--l&&(l=Math.pow(2,h),h++),delete p[u]}else for(t=i[u],e=0;e<h;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;0==--l&&(l=Math.pow(2,h),h++),i[a]=f++,u=String(c)}if(""!==u){if(Object.prototype.hasOwnProperty.call(p,u)){if(u.charCodeAt(0)<256){for(e=0;e<h;e++)m<<=1,v==r-1?(v=0,d.push(n(m)),m=0):v++;for(t=u.charCodeAt(0),e=0;e<8;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}else{for(t=1,e=0;e<h;e++)m=m<<1|t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t=0;for(t=u.charCodeAt(0),e=0;e<16;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}0==--l&&(l=Math.pow(2,h),h++),delete p[u]}else for(t=i[u],e=0;e<h;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;0==--l&&(l=Math.pow(2,h),h++)}for(t=2,e=0;e<h;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;for(;;){if(m<<=1,v==r-1){d.push(n(m));break}v++}return d.join("")},decompress:function(o){return null==o?"":""==o?null:s._decompress(o.length,32768,function(r){return o.charCodeAt(r)})},_decompress:function(r,n,e){var t,s,i,p,c,a,u,l=[],f=4,h=4,d=3,m="",v=[],w={val:e(0),position:n,index:1};for(t=0;t<3;t+=1)l[t]=t;for(i=0,c=Math.pow(2,2),a=1;a!=c;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),i|=(p>0?1:0)*a,a<<=1;switch(i){case 0:for(i=0,c=Math.pow(2,8),a=1;a!=c;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),i|=(p>0?1:0)*a,a<<=1;u=o(i);break;case 1:for(i=0,c=Math.pow(2,16),a=1;a!=c;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),i|=(p>0?1:0)*a,a<<=1;u=o(i);break;case 2:return"";}for(l[3]=u,s=u,v.push(u);;){if(w.index>r)return"";for(i=0,c=Math.pow(2,d),a=1;a!=c;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),i|=(p>0?1:0)*a,a<<=1;switch(u=i){case 0:for(i=0,c=Math.pow(2,8),a=1;a!=c;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),i|=(p>0?1:0)*a,a<<=1;l[h++]=o(i),u=h-1,f--;break;case 1:for(i=0,c=Math.pow(2,16),a=1;a!=c;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),i|=(p>0?1:0)*a,a<<=1;l[h++]=o(i),u=h-1,f--;break;case 2:return v.join("");}if(0==f&&(f=Math.pow(2,d),d++),l[u])m=l[u];else{if(u!==h)return null;m=s+s.charAt(0)}v.push(m),l[h++]=s+m.charAt(0),s=m,0==--f&&(f=Math.pow(2,d),d++)}}};return s}();return void 0!==o&&null!=o&&(o.exports=r),o.exports}.call({});var Y={},Eb=Af(),xf=Bf(),yf=Cf(),zf="undefined"!=typeof window?window:Bd;function Af(){return Object.assign?Object.assign:function(r,$,t,n){for(var o=1;o<arguments.length;o++)Pc(Object(arguments[o]),function($,t){r[t]=$});return r}}function Bf(){if(Object.create)return function(r,$,t,n){var o=Fb(arguments,1);return Eb.apply(this,[Object.create(r)].concat(o))};{function r(){}return function($,t,n,o){var a=Fb(arguments,1);return r.prototype=$,Eb.apply(this,[new r].concat(a))}}}function Cf(){return String.prototype.trim?function(r){return String.prototype.trim.call(r)}:function(r){return r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function Df(r,$){return function(){return $.apply(r,Array.prototype.slice.call(arguments,0))}}function Fb(r,$){return Array.prototype.slice.call(r,$||0)}function Pc(r,$){Gb(r,function(r,t){return $(r,t),!1})}function Ef(r,$){var t=Hb(r)?[]:{};return Gb(r,function(r,n){return t[n]=$(r,n),!1}),t}function Gb(r,$){if(Hb(r)){for(var t=0;t<r.length;t++)if($(r[t],t))return r[t]}else for(var n in r)if(r.hasOwnProperty(n)&&$(r[n],n))return r[n]}function Hb(r){return null!=r&&"function"!=typeof r&&"number"==typeof r.length}function Ff(r){return r&&"[object Function]"==={}.toString.call(r)}function Gf(r){return r&&"[object Object]"==={}.toString.call(r)}Y={assign:Eb,create:xf,trim:yf,bind:Df,slice:Fb,each:Pc,map:Ef,pluck:Gb,isList:Hb,isFunction:Ff,isObject:Gf,Global:zf};var Hf={},If=Y.slice,Jf=Y.pluck,va=Y.each,Kf=Y.bind,Lf=Y.create,Ib=Y.isList,Jb=Y.isFunction,Mf=Y.isObject;Hf={createStore:Kb};var Nf={version:"2.0.12",enabled:!1,get:function(r,e){var t=this.storage.read(this._namespacePrefix+r);return this._deserialize(t,e)},set:function(r,e){return void 0===e?this.remove(r):(this.storage.write(this._namespacePrefix+r,this._serialize(e)),e)},remove:function(r){this.storage.remove(this._namespacePrefix+r)},each:function(r){var e=this;this.storage.each(function(t,s){r.call(e,e._deserialize(t),(s||"").replace(e._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(r){return this._namespacePrefix=="__storejs_"+r+"_"},createStore:function(){return Kb.apply(this,arguments)},addPlugin:function(r){this._addPlugin(r)},namespace:function(r){return Kb(this.storage,this.plugins,r)}};function Of(){var r="undefined"==typeof console?null:console;r&&(r.warn?r.warn:r.log).apply(r,arguments)}function Kb(r,e,t){t||(t=""),r&&!Ib(r)&&(r=[r]),e&&!Ib(e)&&(e=[e]);var s=t?"__storejs_"+t+"_":"",a=t?new RegExp("^"+s):null;if(!/^[a-zA-Z0-9_\-]*$/.test(t))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var i=Lf({_namespacePrefix:s,_namespaceRegexp:a,_testStorage:function(r){try{var e="__storejs__test__";r.write(e,e);var t=r.read(e)===e;return r.remove(e),t}catch(s){return!1}},_assignPluginFnProp:function(r,e){var t=this[e];this[e]=function(){var e=If(arguments,0),s=this;var a=[function(){if(t)return va(arguments,function(r,t){e[t]=r}),t.apply(s,e)}].concat(e);return r.apply(s,a)}},_serialize:function(r){return JSON.stringify(r)},_deserialize:function(r,e){if(!r)return e;var t="";try{t=JSON.parse(r)}catch(s){t=r}return void 0!==t?t:e},_addStorage:function(r){this.enabled||this._testStorage(r)&&(this.storage=r,this.enabled=!0)},_addPlugin:function(r){var e=this;if(Ib(r))va(r,function(r){e._addPlugin(r)});else if(!Jf(this.plugins,function(e){return r===e})){if(this.plugins.push(r),!Jb(r))throw new Error("Plugins must be function values that return objects");var t=r.call(this);if(!Mf(t))throw new Error("Plugins must return an object of function properties");va(t,function(t,s){if(!Jb(t))throw new Error("Bad plugin property: "+s+" from plugin "+r.name+". Plugins should only return functions.");e._assignPluginFnProp(t,s)})}},addStorage:function(r){Of("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(r)}},Nf,{plugins:[]});return i.raw={},va(i,function(r,e){Jb(r)&&(i.raw[e]=Kf(i,r))}),va(r,function(r){i._addStorage(r)}),va(e,function(r){i._addPlugin(r)}),i}var Pf={},Qf=Y.Global,Rf=Y.trim;Pf={name:"cookieStorage",read:Sf,write:Tf,each:Qc,remove:Rc,clearAll:Uf};var Na=Qf.document;function Sf($){if(!$||!Sc($))return null;var e="(?:^|.*;\\s*)"+escape($).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(Na.cookie.replace(new RegExp(e),"$1"))}function Qc($){for(var e=Na.cookie.split(/; ?/g),r=e.length-1;r>=0;r--)if(Rf(e[r])){var a=e[r].split("="),c=unescape(a[0]);$(unescape(a[1]),c)}}function Tf($,e){$&&(Na.cookie=escape($)+"="+escape(e)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function Rc($){$&&Sc($)&&(Na.cookie=escape($)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function Uf(){Qc(function($,e){Rc(e)})}function Sc($){return new RegExp("(?:^|;\\s*)"+escape($).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(Na.cookie)}var Vf={},Wf=Y.Global;function wa(){return Wf.localStorage}function Tc($){return wa().getItem($)}function Xf($,r){return wa().setItem($,r)}function Yf($){for(var r=wa().length-1;r>=0;r--){var a=wa().key(r);$(Tc(a),a)}}function Zf($){return wa().removeItem($)}function $f(){return wa().clear()}Vf={name:"localStorage",read:Tc,write:Xf,each:Yf,remove:Zf,clearAll:$f};const _f=1;var Oa;!function(a){a.DataVersion="dataVersion",a.Data="data"}(Oa||(Oa={}));class ag{constructor(){var $wVwA$$interop$default=mb(Vf);var $AXgE$$interop$default=mb(Pf);this.version=_f,this.storage=Hf.createStore([$wVwA$$interop$default.d,$AXgE$$interop$default.d]),this.defaultData=Ma.compressToUTF16(JSON.stringify({})),this.verifyDataVersion(),this.read()}set(a){this.data=Object.assign(Object.assign({},this.data),a),this.write()}get(a){return Object.assign(Object.assign({},a),this.data)}read(){this.data=JSON.parse(Ma.decompressFromUTF16(this.storage.get(Oa.Data,this.defaultData)))}write(){this.storage.set(Oa.Data,Ma.compressToUTF16(JSON.stringify(this.data)))}verifyDataVersion(){this.storage.get(Oa.DataVersion,this.version)!==this.version&&this.storage.clearAll(),this.storage.set(Oa.DataVersion,this.version)}}const Uc=new ag;function aa(r){for(var $=arguments.length,e=Array($>1?$-1:0),t=1;t<$;t++)e[t-1]=arguments[t];throw Error("[Immer] minified error nr: "+r+(e.length?" "+e.map(function(r){return"'"+r+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function xa(r){return!!r&&!!r[R]}function pa(r){return!!r&&(function(r){if(!r||"object"!=typeof r)return!1;var $=Object.getPrototypeOf(r);return!$||$===Object.prototype}(r)||Array.isArray(r)||!!r[bd]||!!r.constructor[bd]||Mb(r)||Nb(r))}function Pa(r,$,e){void 0===e&&(e=!1),0===ya(r)?(e?Object.keys:$b)(r).forEach(function(t){e&&"symbol"==typeof t||$(t,r[t],r)}):r.forEach(function(e,t){return $(t,e,r)})}function ya(r){var $=r[R];return $?$.i>3?$.i-4:$.i:Array.isArray(r)?1:Mb(r)?2:Nb(r)?3:0}function Lb(r,$){return 2===ya(r)?r.has($):Object.prototype.hasOwnProperty.call(r,$)}function bg(r,$){return 2===ya(r)?r.get($):r[$]}function Vc(r,$,e){var t=ya(r);2===t?r.set($,e):3===t?(r.delete($),r.add(e)):r[$]=e}function cg(r,$){return r===$?0!==r||1/r==1/$:r!=r&&$!=$}function Mb(r){return hg&&r instanceof Map}function Nb(r){return ig&&r instanceof Set}function qa(r){return r.o||r.t}function Ob(r){if(Array.isArray(r))return Array.prototype.slice.call(r);var $=jg(r);delete $[R];for(var e=$b($),t=0;t<e.length;t++){var a=e[t],n=$[a];!1===n.writable&&(n.writable=!0,n.configurable=!0),(n.get||n.set)&&($[a]={configurable:!0,writable:!0,enumerable:n.enumerable,value:r[a]})}return Object.create(Object.getPrototypeOf(r),$)}function Pb(r,$){return void 0===$&&($=!1),Qb(r)||xa(r)||!pa(r)?r:(ya(r)>1&&(r.set=r.add=r.clear=r.delete=dg),Object.freeze(r),$&&Pa(r,function(r,$){return Pb($,!0)},!0),r)}function dg(){aa(2)}function Qb(r){return null==r||"object"!=typeof r||Object.isFrozen(r)}function fa(r){var $=kg[r];return $||aa(18,r),$}function Wc(){return Yb}function Rb(r,$){$&&(fa("Patches"),r.u=[],r.s=[],r.v=$)}function cb(r){Sb(r),r.p.forEach(eg),r.p=null}function Sb(r){r===Yb&&(Yb=r.l)}function Xc(r){return Yb={p:[],l:Yb,h:r,m:!0,_:0}}function eg(r){var $=r[R];0===$.i||1===$.i?$.j():$.g=!0}function Tb(r,$){$._=$.p.length;var e=$.p[0],t=void 0!==r&&r!==e;return $.h.O||fa("ES5").S($,r,t),t?(e[R].P&&(cb($),aa(4)),pa(r)&&(r=db($,r),$.l||eb($,r)),$.u&&fa("Patches").M(e[R],r,$.u,$.s)):r=db($,e,[]),cb($),$.u&&$.v($.u,$.s),r!==ad?r:void 0}function db(r,$,e){if(Qb($))return $;var t=$[R];if(!t)return Pa($,function(a,n){return Yc(r,t,$,a,n,e)},!0),$;if(t.A!==r)return $;if(!t.P)return eb(r,t.t,!0),t.t;if(!t.I){t.I=!0,t.A._--;var a=4===t.i||5===t.i?t.o=Ob(t.k):t.o;Pa(3===t.i?new Set(a):a,function($,n){return Yc(r,t,a,$,n,e)}),eb(r,a,!1),e&&r.u&&fa("Patches").R(t,e,r.u,r.s)}return t.o}function Yc(r,$,e,t,a,n){if(xa(a)){var S=db(r,a,n&&$&&3!==$.i&&!Lb($.D,t)?n.concat(t):void 0);if(Vc(e,t,S),!xa(S))return;r.m=!1}if(pa(a)&&!Qb(a)){if(!r.h.N&&r._<1)return;db(r,a),$&&$.A.l||eb(r,a)}}function eb(r,$,e){void 0===e&&(e=!1),r.h.N&&r.m&&Pb($,e)}function Ub(r,$){var e=r[R];return(e?qa(e):r)[$]}function Zc(r,$){if($ in r)for(var e=Object.getPrototypeOf(r);e;){var t=Object.getOwnPropertyDescriptor(e,$);if(t)return t;e=Object.getPrototypeOf(e)}}function Vb(r){r.P||(r.P=!0,r.l&&Vb(r.l))}function Wb(r){r.o||(r.o=Ob(r.t))}function Xb(r,$,e){var t=Mb($)?fa("MapSet").T($,e):Nb($)?fa("MapSet").F($,e):r.O?function(r,$){var e=Array.isArray(r),t={i:e?1:0,A:$?$.A:Wc(),P:!1,I:!1,D:{},l:$,t:r,k:null,o:null,j:null,C:!1},a=t,n=fb;e&&(a=[t],n=gb);var S=Proxy.revocable(a,n),o=S.revoke,i=S.proxy;return t.k=i,t.j=o,i}($,e):fa("ES5").J($,e);return(e?e.A:Wc()).p.push(t),t}function fg(r){return xa(r)||aa(22,r),function r($){if(!pa($))return $;var e,t=$[R],a=ya($);if(t){if(!t.P&&(t.i<4||!fa("ES5").K(t)))return t.t;t.I=!0,e=$c($,a),t.I=!1}else e=$c($,a);return Pa(e,function($,a){t&&bg(t.t,$)===a||Vc(e,$,r(a))}),3===a?new Set(e):e}(r)}function $c(r,$){switch($){case 2:return new Map(r);case 3:return Array.from(r);}return Ob(r)}var gg,Yb,Zb="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),hg="undefined"!=typeof Map,ig="undefined"!=typeof Set,_c="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,ad=Zb?Symbol.for("immer-nothing"):((gg={})["immer-nothing"]=!0,gg),bd=Zb?Symbol.for("immer-draftable"):"__$immer_draftable",R=Zb?Symbol.for("immer-state"):"__$immer_state",g="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",$b="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:Object.getOwnPropertyNames,jg=Object.getOwnPropertyDescriptors||function(r){var $={};return $b(r).forEach(function(e){$[e]=Object.getOwnPropertyDescriptor(r,e)}),$},kg={},fb={get:function(r,$){if($===R)return r;var e=qa(r);if(!Lb(e,$))return function(r,$,e){var t,a=Zc($,e);return a?"value"in a?a.value:null===(t=a.get)||void 0===t?void 0:t.call(r.k):void 0}(r,e,$);var t=e[$];return r.I||!pa(t)?t:t===Ub(r.t,$)?(Wb(r),r.o[$]=Xb(r.A.h,t,r)):t},has:function(r,$){return $ in qa(r)},ownKeys:function(r){return Reflect.ownKeys(qa(r))},set:function(r,$,e){var t=Zc(qa(r),$);if(null==t?void 0:t.set)return t.set.call(r.k,e),!0;if(!r.P){var a=Ub(qa(r),$),n=null==a?void 0:a[R];if(n&&n.t===e)return r.o[$]=e,r.D[$]=!1,!0;if(cg(e,a)&&(void 0!==e||Lb(r.t,$)))return!0;Wb(r),Vb(r)}return r.o[$]=e,r.D[$]=!0,!0},deleteProperty:function(r,$){return void 0!==Ub(r.t,$)||$ in r.t?(r.D[$]=!1,Wb(r),Vb(r)):delete r.D[$],r.o&&delete r.o[$],!0},getOwnPropertyDescriptor:function(r,$){var e=qa(r),t=Reflect.getOwnPropertyDescriptor(e,$);return t?{writable:!0,configurable:1!==r.i||"length"!==$,enumerable:t.enumerable,value:e[$]}:t},defineProperty:function(){aa(11)},getPrototypeOf:function(r){return Object.getPrototypeOf(r.t)},setPrototypeOf:function(){aa(12)}},gb={};Pa(fb,function(r,$){gb[r]=function(){return arguments[0]=arguments[0][0],$.apply(this,arguments)}}),gb.deleteProperty=function(r,$){return fb.deleteProperty.call(this,r[0],$)},gb.set=function(r,$,e){return fb.set.call(this,r[0],$,e,r[0])};var lg=function(){function r(r){this.O=_c,this.N=!0,"boolean"==typeof(null==r?void 0:r.useProxies)&&this.setUseProxies(r.useProxies),"boolean"==typeof(null==r?void 0:r.autoFreeze)&&this.setAutoFreeze(r.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var $=r.prototype;return $.produce=function(r,$,e){if("function"==typeof r&&"function"!=typeof $){var t=$;$=r;var a=this;return function(r){var e=this;void 0===r&&(r=t);for(var n=arguments.length,S=Array(n>1?n-1:0),o=1;o<n;o++)S[o-1]=arguments[o];return a.produce(r,function(r){var t;return(t=$).call.apply(t,[e,r].concat(S))})}}var n;if("function"!=typeof $&&aa(6),void 0!==e&&"function"!=typeof e&&aa(7),pa(r)){var S=Xc(this),o=Xb(this,r,void 0),i=!0;try{n=$(o),i=!1}finally{i?cb(S):Sb(S)}return"undefined"!=typeof Promise&&n instanceof Promise?n.then(function(r){return Rb(S,e),Tb(r,S)},function(r){throw cb(S),r}):(Rb(S,e),Tb(n,S))}if(!r||"object"!=typeof r){if((n=$(r))===ad)return;return void 0===n&&(n=r),this.N&&Pb(n,!0),n}aa(21,r)},$.produceWithPatches=function(r,$){var e,t,a=this;return"function"==typeof r?function($){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return a.produceWithPatches($,function($){return r.apply(void 0,[$].concat(t))})}:[this.produce(r,$,function(r,$){e=r,t=$}),e,t]},$.createDraft=function(r){pa(r)||aa(8),xa(r)&&(r=fg(r));var $=Xc(this),e=Xb(this,r,void 0);return e[R].C=!0,Sb($),e},$.finishDraft=function(r,$){var e=r&&r[R],t=e.A;return Rb(t,$),Tb(void 0,t)},$.setAutoFreeze=function(r){this.N=r},$.setUseProxies=function(r){r&&!_c&&aa(20),this.O=r},$.applyPatches=function(r,$){var e;for(e=$.length-1;e>=0;e--){var t=$[e];if(0===t.path.length&&"replace"===t.op){r=t.value;break}}var a=fa("Patches").$;return xa(r)?a(r,$):this.produce(r,function(r){return a(r,$.slice(e+1))})},r}(),T=new lg,cd=T.produce,h=T.produceWithPatches.bind(T),i=T.setAutoFreeze.bind(T),l=T.setUseProxies.bind(T),m=T.applyPatches.bind(T),n=T.createDraft.bind(T),o=T.finishDraft.bind(T);class mg{constructor(t,e){this.actions=e,this.actionsSubject=new oa,this.dispatch=(t,e)=>{this.actionsSubject.next({name:t,payload:e})},this.dispatchAfterCallstack=(t,e)=>{setTimeout(()=>this.dispatch(t,e))},this.initialState=cd({},()=>t),this.stateSubject=new Be(this.initialState),this.listen()}get state$(){return this.stateSubject.pipe(ef((t,e)=>t===e,t=>"object"==typeof t?JSON.stringify(t):t))}get actions$(){return this.actionsSubject.pipe(qf(this.state$),ja(([{name:t,payload:e},i])=>({name:t,payload:e,state:i})))}update(t,e){const i=cd(t,t=>Object.assign(Object.assign({},t),e));this.stateSubject.next(i)}listen(){this.actions$.pipe(ja(({name:t,payload:e,state:i})=>[this.actions[t](i,e,this.dispatchAfterCallstack),i]),Oc(([t])=>!!t)).subscribe(([t,e])=>this.update(e,t))}}var ng,z;function V(r){if(null===r||!0===r||!1===r)return NaN;var t=Number(r);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function M(e){G(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function G(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function og(e,r){G(2,arguments);var $=M(e).getTime(),t=V(r);return new Date($+t)}var hb=6e4;function dd(a){return a.getTime()%hb}function pg(a){var $=new Date(a.getTime()),e=Math.ceil($.getTimezoneOffset());$.setSeconds(0,0);var t=e>0?(hb+dd($))%hb:dd($);return e*hb+t}function ed(e,t){G(2,arguments);var r=M(e),$=M(t),d=r.getTime()-$.getTime();return d<0?-1:d>0?1:d}function qg(e){G(1,arguments);var r=M(e);return!isNaN(r)}function _b(e,r){G(2,arguments);var $=M(e),t=M(r);return $.getTime()-t.getTime()}var ib={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function rg(o,e,t){var a;return t=t||{},a="string"==typeof ib[o]?ib[o]:1===e?ib[o].one:ib[o].other.replace("{{count}}",e),t.addSuffix?t.comparison>0?"in "+a:a+" ago":a}function ac(t){return function(r){var e=r||{},$=e.width?String(e.width):t.defaultWidth;return t.formats[$]||t.formats[t.defaultWidth]}}var sg={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tg={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ug={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vg={date:ac({formats:sg,defaultWidth:"full"}),time:ac({formats:tg,defaultWidth:"full"}),dateTime:ac({formats:ug,defaultWidth:"full"})};var wg={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function xg(e,t,a,o){return wg[e]}function Qa(t){return function(a,e){var r,n=e||{};if("formatting"===(n.context?String(n.context):"standalone")&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,l=n.width?String(n.width):i;r=t.formattingValues[l]||t.formattingValues[i]}else{var u=t.defaultWidth,d=n.width?String(n.width):t.defaultWidth;r=t.values[d]||t.values[u]}return r[t.argumentCallback?t.argumentCallback(a):a]}}var yg={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zg={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ag={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Bg={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Cg={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Dg={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}};function Eg(n,e){var a=Number(n),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd";}return a+"th"}var Fg={ordinalNumber:Eg,era:Qa({values:yg,defaultWidth:"wide"}),quarter:Qa({values:zg,defaultWidth:"wide",argumentCallback:function(n){return Number(n)-1}}),month:Qa({values:Ag,defaultWidth:"wide"}),day:Qa({values:Bg,defaultWidth:"wide"}),dayPeriod:Qa({values:Cg,defaultWidth:"wide",formattingValues:Dg,defaultFormattingWidth:"wide"})};function Gg(a){return function(t,e){var l=String(t),r=e||{},u=l.match(a.matchPattern);if(!u)return null;var n=u[0],v=l.match(a.parsePattern);if(!v)return null;var c=a.valueCallback?a.valueCallback(v[0]):v[0];return{value:c=r.valueCallback?r.valueCallback(c):c,rest:l.slice(n.length)}}}function Ra(t){return function(r,e){var a=String(r),n=e||{},l=n.width,u=l&&t.matchPatterns[l]||t.matchPatterns[t.defaultMatchWidth],$=a.match(u);if(!$)return null;var f,i=$[0],c=l&&t.parsePatterns[l]||t.parsePatterns[t.defaultParseWidth];return f="[object Array]"===Object.prototype.toString.call(c)?Ig(c,function(t){return t.test(i)}):Hg(c,function(t){return t.test(i)}),f=t.valueCallback?t.valueCallback(f):f,{value:f=n.valueCallback?n.valueCallback(f):f,rest:a.slice(i.length)}}}function Hg(t,r){for(var e in t)if(t.hasOwnProperty(e)&&r(t[e]))return e}function Ig(t,r){for(var e=0;e<t.length;e++)if(r(t[e]))return e}var Jg=/^(\d+)(th|st|nd|rd)?/i,Kg=/\d+/i,Lg={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Mg={any:[/^b/i,/^(a|c)/i]},Ng={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Og={any:[/1/i,/2/i,/3/i,/4/i]},Pg={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Qg={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Rg={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Sg={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Tg={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ug={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Vg={ordinalNumber:Gg({matchPattern:Jg,parsePattern:Kg,valueCallback:function(a){return parseInt(a,10)}}),era:Ra({matchPatterns:Lg,defaultMatchWidth:"wide",parsePatterns:Mg,defaultParseWidth:"any"}),quarter:Ra({matchPatterns:Ng,defaultMatchWidth:"wide",parsePatterns:Og,defaultParseWidth:"any",valueCallback:function(a){return a+1}}),month:Ra({matchPatterns:Pg,defaultMatchWidth:"wide",parsePatterns:Qg,defaultParseWidth:"any"}),day:Ra({matchPatterns:Rg,defaultMatchWidth:"wide",parsePatterns:Sg,defaultParseWidth:"any"}),dayPeriod:Ra({matchPatterns:Tg,defaultMatchWidth:"any",parsePatterns:Ug,defaultParseWidth:"any"})};var Wg={code:"en-US",formatDistance:rg,formatLong:vg,formatRelative:xg,localize:Fg,match:Vg,options:{weekStartsOn:0,firstWeekContainsDate:1}};function fd(e,r){G(2,arguments);var $=V(r);return og(e,-$)}function q(t,r){for(var $=t<0?"-":"",e=Math.abs(t).toString();e.length<r;)e="0"+e;return $+e}var la={y:function(e,t){var r=e.getUTCFullYear(),a=r>0?r:1-r;return q("yy"===t?a%100:a,t.length)},M:function(e,t){var r=e.getUTCMonth();return"M"===t?String(r+1):q(r+1,2)},d:function(e,t){return q(e.getUTCDate(),t.length)},a:function(e,t){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return r.toUpperCase();case"aaaaa":return r[0];case"aaaa":default:return"am"===r?"a.m.":"p.m.";}},h:function(e,t){return q(e.getUTCHours()%12||12,t.length)},H:function(e,t){return q(e.getUTCHours(),t.length)},m:function(e,t){return q(e.getUTCMinutes(),t.length)},s:function(e,t){return q(e.getUTCSeconds(),t.length)},S:function(e,t){var r=t.length,a=e.getUTCMilliseconds(),s=Math.floor(a*Math.pow(10,r-3));return q(s,t.length)}};var Xg=864e5;function Yg(e){G(1,arguments);var r=M(e),$=r.getTime();r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0);var i=$-r.getTime();return Math.floor(i/Xg)+1}function jb(e){G(1,arguments);var u=M(e),r=u.getUTCDay(),t=(r<1?7:0)+r-1;return u.setUTCDate(u.getUTCDate()-t),u.setUTCHours(0,0,0,0),u}function Zg(e){G(1,arguments);var r=gd(e),$=new Date(0);return $.setUTCFullYear(r,0,4),$.setUTCHours(0,0,0,0),jb($)}function gd(e){G(1,arguments);var r=M(e),t=r.getUTCFullYear(),$=new Date(0);$.setUTCFullYear(t+1,0,4),$.setUTCHours(0,0,0,0);var u=jb($),a=new Date(0);a.setUTCFullYear(t,0,4),a.setUTCHours(0,0,0,0);var i=jb(a);return r.getTime()>=u.getTime()?t+1:r.getTime()>=i.getTime()?t:t-1}var $g=6048e5;function _g(r){G(1,arguments);var e=M(r),$=jb(e).getTime()-Zg(e).getTime();return Math.round($/$g)+1}function kb(e,t){G(1,arguments);var r=t||{},s=r.locale,$=s&&s.options&&s.options.weekStartsOn,n=null==$?0:V($),o=null==r.weekStartsOn?n:V(r.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var a=M(e),i=a.getUTCDay(),u=(i<o?7:0)+i-o;return a.setUTCDate(a.getUTCDate()-u),a.setUTCHours(0,0,0,0),a}function ah(e,r){G(1,arguments);var t=r||{},$=t.locale,i=$&&$.options&&$.options.firstWeekContainsDate,a=null==i?1:V(i),o=null==t.firstWeekContainsDate?a:V(t.firstWeekContainsDate),n=hd(e,r),s=new Date(0);return s.setUTCFullYear(n,0,o),s.setUTCHours(0,0,0,0),kb(s,r)}function hd(e,t){G(1,arguments);var r=M(e,t),$=r.getUTCFullYear(),i=t||{},a=i.locale,n=a&&a.options&&a.options.firstWeekContainsDate,o=null==n?1:V(n),s=null==i.firstWeekContainsDate?o:V(i.firstWeekContainsDate);if(!(s>=1&&s<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=new Date(0);l.setUTCFullYear($+1,0,s),l.setUTCHours(0,0,0,0);var u=kb(l,t),b=new Date(0);b.setUTCFullYear($,0,s),b.setUTCHours(0,0,0,0);var p=kb(b,t);return r.getTime()>=u.getTime()?$+1:r.getTime()>=p.getTime()?$:$-1}var bh=6048e5;function ch(e,r){G(1,arguments);var $=M(e),t=kb($,r).getTime()-ah($,r).getTime();return Math.round(t/bh)+1}var za={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},dh={G:function(e,t,r){var a=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"});}},y:function(e,t,r){if("yo"===t){var a=e.getUTCFullYear(),i=a>0?a:1-a;return r.ordinalNumber(i,{unit:"year"})}return la.y(e,t)},Y:function(e,t,r,a){var i=hd(e,a),n=i>0?i:1-i;return"YY"===t?q(n%100,2):"Yo"===t?r.ordinalNumber(n,{unit:"year"}):q(n,t.length)},R:function(e,t){var r=gd(e);return q(r,t.length)},u:function(e,t){var r=e.getUTCFullYear();return q(r,t.length)},Q:function(e,t,r){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return q(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"});}},q:function(e,t,r){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return q(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"});}},M:function(e,t,r){var a=e.getUTCMonth();switch(t){case"M":case"MM":return la.M(e,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"});}},L:function(e,t,r){var a=e.getUTCMonth();switch(t){case"L":return String(a+1);case"LL":return q(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"});}},w:function(e,t,r,a){var i=ch(e,a);return"wo"===t?r.ordinalNumber(i,{unit:"week"}):q(i,t.length)},I:function(e,t,r){var a=_g(e);return"Io"===t?r.ordinalNumber(a,{unit:"week"}):q(a,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):la.d(e,t)},D:function(e,t,r){var a=Yg(e);return"Do"===t?r.ordinalNumber(a,{unit:"dayOfYear"}):q(a,t.length)},E:function(e,t,r){var a=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"});}},e:function(e,t,r,a){var i=e.getUTCDay(),n=(i-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(n);case"ee":return q(n,2);case"eo":return r.ordinalNumber(n,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"});}},c:function(e,t,r,a){var i=e.getUTCDay(),n=(i-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(n);case"cc":return q(n,t.length);case"co":return r.ordinalNumber(n,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"});}},i:function(e,t,r){var a=e.getUTCDay(),i=0===a?7:a;switch(t){case"i":return String(i);case"ii":return q(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"});}},a:function(e,t,r){var a=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"});}},b:function(e,t,r){var a,i=e.getUTCHours();switch(a=12===i?za.noon:0===i?za.midnight:i/12>=1?"pm":"am",t){case"b":case"bb":case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"});}},B:function(e,t,r){var a,i=e.getUTCHours();switch(a=i>=17?za.evening:i>=12?za.afternoon:i>=4?za.morning:za.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"});}},h:function(e,t,r){if("ho"===t){var a=e.getUTCHours()%12;return 0===a&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return la.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):la.H(e,t)},K:function(e,t,r){var a=e.getUTCHours()%12;return"Ko"===t?r.ordinalNumber(a,{unit:"hour"}):q(a,t.length)},k:function(e,t,r){var a=e.getUTCHours();return 0===a&&(a=24),"ko"===t?r.ordinalNumber(a,{unit:"hour"}):q(a,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):la.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):la.s(e,t)},S:function(e,t){return la.S(e,t)},X:function(e,t,r,a){var i=(a._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return jd(i);case"XXXX":case"XX":return ra(i);case"XXXXX":case"XXX":default:return ra(i,":");}},x:function(e,t,r,a){var i=(a._originalDate||e).getTimezoneOffset();switch(t){case"x":return jd(i);case"xxxx":case"xx":return ra(i);case"xxxxx":case"xxx":default:return ra(i,":");}},O:function(e,t,r,a){var i=(a._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+id(i,":");case"OOOO":default:return"GMT"+ra(i,":");}},z:function(e,t,r,a){var i=(a._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+id(i,":");case"zzzz":default:return"GMT"+ra(i,":");}},t:function(e,t,r,a){var i=a._originalDate||e,n=Math.floor(i.getTime()/1e3);return q(n,t.length)},T:function(e,t,r,a){var i=(a._originalDate||e).getTime();return q(i,t.length)}};function id(e,t){var r=e>0?"-":"+",a=Math.abs(e),i=Math.floor(a/60),n=a%60;if(0===n)return r+String(i);var o=t||"";return r+String(i)+o+q(n,2)}function jd(e,t){return e%60==0?(e>0?"-":"+")+q(Math.abs(e)/60,2):ra(e,t)}function ra(e,t){var r=t||"",a=e>0?"-":"+",i=Math.abs(e);return a+q(Math.floor(i/60),2)+r+q(i%60,2)}function kd(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"});}}function ld(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"});}}function eh(t,e){var r,a=t.match(/(P+)(p+)?/),i=a[1],d=a[2];if(!d)return kd(t,e);switch(i){case"P":r=e.dateTime({width:"short"});break;case"PP":r=e.dateTime({width:"medium"});break;case"PPP":r=e.dateTime({width:"long"});break;case"PPPP":default:r=e.dateTime({width:"full"});}return r.replace("{{date}}",kd(i,e)).replace("{{time}}",ld(d,e))}var fh={p:ld,P:eh};var gh=["D","DD"],hh=["YY","YYYY"];function ih(e){return-1!==gh.indexOf(e)}function jh(e){return-1!==hh.indexOf(e)}function md(e,t,r){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"))}var kh=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lh=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mh=/^'([^]*?)'?$/,nh=/''/g,oh=/[a-zA-Z]/;function ph(e,r,t){G(2,arguments);var a=String(r),n=t||{},o=n.locale||Wg,i=o.options&&o.options.firstWeekContainsDate,$=null==i?1:V(i),Z=null==n.firstWeekContainsDate?$:V(n.firstWeekContainsDate);if(!(Z>=1&&Z<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var s=o.options&&o.options.weekStartsOn,l=null==s?0:V(s),p=null==n.weekStartsOn?l:V(n.weekStartsOn);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!o.localize)throw new RangeError("locale must contain localize property");if(!o.formatLong)throw new RangeError("locale must contain formatLong property");var c=M(e);if(!qg(c))throw new RangeError("Invalid time value");var O=pg(c),u=fd(c,O),g={firstWeekContainsDate:Z,weekStartsOn:p,locale:o,_originalDate:c};return a.match(lh).map(function(e){var r=e[0];return"p"===r||"P"===r?(0,fh[r])(e,o.formatLong,g):e}).join("").match(kh).map(function(t){if("''"===t)return"'";var a=t[0];if("'"===a)return qh(t);var i=dh[a];if(i)return!n.useAdditionalWeekYearTokens&&jh(t)&&md(t,r,e),!n.useAdditionalDayOfYearTokens&&ih(t)&&md(t,r,e),i(u,t,o.localize,g);if(a.match(oh))throw new RangeError("Format string contains an unescaped latin alphabet character `"+a+"`");return t}).join("")}function qh(e){return e.match(mh)[1].replace(nh,"'")}var rh,ma;(function(e){e.Player="player",e.IsRunning="isRunning",e.IsPaused="isPaused",e.IsFinished="isFinished",e.IsClosed="isClosed",e.IsWon="isWon",e.Width="width"})(ma||(rh=ma={},rh));const ga={[ma.Player]:({player:e})=>e,[ma.IsRunning]:({status:e})=>e===I.Running,[ma.IsPaused]:({status:e})=>e===I.Paused,[ma.IsFinished]:({status:e})=>e===I.Finished,[ma.IsClosed]:({status:e})=>e===I.Closed,[ma.IsWon]:({finalStatus:e})=>e===La.Won,[ma.Width]:({tileSize:e,tilesX:$})=>e*$};(function(t){t.SetSettings="setSettings",t.Start="start",t.FirstClick="firstClick",t.Restart="restart",t.Pause="pause",t.Unpause="unpause",t.TogglePause="togglePause",t.Finish="finish",t.Close="close",t.SetFlagsCount="setFlagsCount"})(z||(ng=z={},ng));const sh={[z.SetSettings]:(t,{player:e,difficulty:$,settings:s})=>{if(!/^\w+$/.test(e))return;const i=($=$>=0&&$<=F.Custom?$:t.difficulty)===F.Custom?s||{tilesX:t.tilesX,tilesY:t.tilesY,minesCount:t.minesCount}:Ka[$],{tilesX:a,tilesY:n,minesCount:r}=i;return Uc.set({player:e,difficulty:$,difficultySettings:i}),{player:e,difficulty:$,tilesX:a,tilesY:n,minesCount:r}},[z.Start]:()=>({status:I.Running,finalStatus:null,startedAt:null,pausedAt:null,finishedAt:null,flagsCount:0}),[z.FirstClick]:()=>({startedAt:new Date,pausedAt:null,finishedAt:null,flagsCount:0}),[z.Restart]:(t,e,$)=>{$(z.Start)},[z.Pause]:t=>{if(t.status===I.Running)return{status:I.Paused,pausedAt:new Date}},[z.Unpause]:t=>{if(t.status!==I.Paused)return;const e=_b(t.pausedAt,new Date),$=t.startedAt?fd(t.startedAt,e):null;return{status:I.Running,startedAt:$,pausedAt:null}},[z.TogglePause]:(t,e,$)=>{ga.isPaused(t)?$(z.Unpause):$(z.Pause)},[z.Finish]:(t,{finalStatus:e})=>{if(t.status===I.Running)return{finishedAt:new Date,status:I.Finished,finalStatus:e}},[z.Close]:()=>({status:I.Closed,startedAt:null,pausedAt:null}),[z.SetFlagsCount]:(t,{flagsCount:e})=>{if(t.status===I.Running&&!isNaN(e))return{flagsCount:e}}};const{player:th,difficulty:uh,difficultySettings:{tilesX:vh,tilesY:wh,minesCount:xh}}=Uc.get({player:null,difficulty:Db,difficultySettings:Ka[Db]}),nd={player:th,status:I.Closed,finalStatus:null,startedAt:null,pausedAt:null,finishedAt:null,difficulty:uh,tileSize:40,tilesX:vh,tilesY:wh,minesCount:xh,flagsCount:0},N=new mg(nd,sh);const Aa=Od(nd);var yh,sa,zh,Ah=0,od=[],pd=k.__b,qd=k.__r,rd=k.diffed,sd=k.__c,td=k.unmount;function Bh($,r){k.__h&&k.__h(sa,$,Ah||r),Ah=0;var t=sa.__H||(sa.__H={__:[],__h:[]});return $>=t.__.length&&t.__.push({}),t.__[$]}function Sa($){var r=sa.context[$.__c],t=Bh(yh++,9);return t.__c=$,r?(null==t.__&&(t.__=!0,r.sub(sa)),r.props.value):$.__}function Ch(){od.forEach(function($){if($.__P)try{$.__H.__h.forEach(lb),$.__H.__h.forEach(bc),$.__H.__h=[]}catch(r){$.__H.__h=[],k.__e(r,$.__v)}}),od=[]}k.__b=function($){sa=null,pd&&pd($)},k.__r=function($){qd&&qd($),yh=0;var r=(sa=$.__c).__H;r&&(r.__h.forEach(lb),r.__h.forEach(bc),r.__h=[])},k.diffed=function($){rd&&rd($);var r=$.__c;r&&r.__H&&r.__H.__h.length&&(1!==od.push(r)&&zh===k.requestAnimationFrame||((zh=k.requestAnimationFrame)||function($){var r,t=function(){clearTimeout(e),ud&&cancelAnimationFrame(r),setTimeout($)},e=setTimeout(t,100);ud&&(r=requestAnimationFrame(t))})(Ch)),sa=void 0},k.__c=function($,r){r.some(function($){try{$.__h.forEach(lb),$.__h=$.__h.filter(function($){return!$.__||bc($)})}catch(t){r.some(function($){$.__h&&($.__h=[])}),r=[],k.__e(t,$.__v)}}),sd&&sd($,r)},k.unmount=function($){td&&td($);var r=$.__c;if(r&&r.__H)try{r.__H.__.forEach(lb)}catch($){k.__e($,r.__v)}};var ud="function"==typeof requestAnimationFrame;function lb($){var r=sa;"function"==typeof $.__c&&$.__c(),sa=r}function bc($){var r=sa;$.__c=$.__(),sa=r}let Dh=(t=21)=>{let a="",$=crypto.getRandomValues(new Uint8Array(t));for(;t--;){let e=63&$[t];a+=e<36?e.toString(36):e<62?(e-26).toString(36).toUpperCase():e<63?"_":"-"}return a};const Eh="https://jsonstorage.net/api/items/92724162-5354-4099-9b3a-112dfa90706a";class Fh{constructor(){this.storageURI=Eh}add(s,e,t){let r={id:Dh(),date:new Date,time:s,player:e,difficulty:t};return this.request().pipe(Jc(s=>(s[t].push(r),s[t]=this.sortList(s[t]),s[t]=this.rankList(s[t]),r=this.findId(s,r.id,t),s.updated=new Date,this.send(s))),ja(s=>({entry:r,highscores:{list:s[t].slice(0,10),updated:s.updated}})))}get(s,e,t=10){return this.getHighscores().pipe(ja(r=>{const i={list:r[s],updated:r.updated};return e&&e.length&&(e=e.toLowerCase(),i.list=i.list.filter(s=>s.player.toLowerCase()===e)),"number"==typeof t&&t>0&&(i.list=i.list.slice(0,t)),i}))}getHighscores(){return this.highscores?Fe(this.highscores):this.request()}request(){return Bb(fetch(this.storageURI).then(s=>s.json())).pipe(ja(s=>this.decompress(s)),nf(s=>{this.highscores=s}))}send(s){return Bb(fetch(this.storageURI,{headers:{"Content-Type":"application/json;charset=utf-8"},method:"put",body:JSON.stringify(this.compress(s))})).pipe(ja(()=>(this.highscores=s,s)))}findId(s,e,t){return s[t].find(({id:s})=>s===e)}sortList(s){return s.sort((s,e)=>{const t=ed(s.time,e.time);return 0!==t?t:ed(s.date,e.date)})}rankList(s){return s.map((s,e)=>Object.assign(Object.assign({},s),{rank:e+1}))}compress(s){return[Ma.compressToUTF16(JSON.stringify(s))]}decompress([s]){return Object.entries(JSON.parse(Ma.decompressFromUTF16(s))).reduce((s,[e,t])=>Object.assign(Object.assign({},s),{[e]:"updated"===e?new Date(t):t.map(s=>Object.assign(Object.assign({},s),{date:new Date(s.date)}))}),{})}}const vd=new Fh;const Gh=Object.entries(F).reduce((c,[i,t])=>Object.assign(Object.assign({},c),{[t]:i}),{});function wd(c){return Gh[c]}function cc(o,r=!0){const $=Math.floor(o/6e4);o-=6e4*$;const t=Math.floor(o/1e3);return`${dc($)}:${dc(t)}${r?`:${dc(o-1e3*t,2)}`:""}`}function dc($,r=1){return $<Math.pow(10,r)?`${"0".repeat(r)}${$}`:`${$}`}var Hh,J;(function($){$.Boom="boom",$.Dead="dead",$.FlagOnGreen="flag-on-green",$.Flag="flag",$.Magawa="magawa",$.Party="party",$.Stopwatch="stopwatch",$.Trophy="trophy",$.Zzz="zzz"})(J||(Hh=J={},Hh));class Ba extends D{render({name:e}){return j("div",{class:"c-icon"},j("img",{src:`icons/${e}.png`,alt:""}))}}class Ih extends D{render({entry:r}){return j("div",{class:"c-congratulations"},j("div",{class:"c-congratulations__title"},j(Ba,{name:J.Party})," Congratulations!"),r?j("div",{class:"c-congratulations__text"},"You won in ",j("strong",null,cc(r.time))," claiming rank ",j("strong",null,r.rank)," in highscores for difficulty"," ",j("em",null,wd(r.difficulty)),"."):"")}}class Jh extends D{render(){const{flagsCount:$,minesCount:e}=Sa(Aa);return j("div",{class:"c-flags"},j("div",{class:"c-flags__label"},$,"/",e),j("div",{class:"c-flags__icon"},j(Ba,{name:J.FlagOnGreen})))}}var Kh={};function xd(r,a){if(!Array.isArray(r))throw new Error("shuffle expect an array as parameter.");a=a||{};var e,t,f=r,o=r.length,n=a.rng||Math.random;for(!0===a.copy&&(f=r.slice());o;)e=Math.floor(n()*o),t=f[o-=1],f[o]=f[e],f[e]=t;return f}xd.pick=function(r,a){if(!Array.isArray(r))throw new Error("shuffle.pick() expect an array as parameter.");var e=(a=a||{}).rng||Math.random,t=a.picks||1;if("number"==typeof t&&1!==t){for(var f,o=r.length,n=r.slice(),h=[];t&&o;)f=Math.floor(e()*o),h.push(n[f]),n.splice(f,1),o-=1,t-=1;return h}return r[Math.floor(e()*r.length)]},Kh=xd;var Ta;class Lh{constructor(...e){this.loader=new PIXI.Loader,this.loadedSubject=new oa,this.items=new Map,this.loader.baseUrl=document.head.baseURI,e.forEach(([e,r])=>this.loader.add(e,r)),this.loader.load((e,r)=>this.onLoaded(r))}get loaded$(){return this.loadedSubject.asObservable()}get(e){return this.items.get(e)}has(e){return this.items.has(e)}onLoaded(e){Object.entries(e).forEach(([e,r])=>{r&&!r.error&&this.items.set(e,r)}),this.loadedSubject.next(),this.loadedSubject.complete()}}const yd=new Lh(...Object.values(J).map(e=>[e,`icons/${e}.png`]));(function(e){e[e.LineCovered=16379340]="LineCovered",e[e.FillCovered=7048739]="FillCovered",e[e.LineUncovered=15458238]="LineUncovered",e[e.FillUncovered=16379340]="FillUncovered"})(Ta||(Ta={}));const Mh=[J.Boom,J.Flag];class Nh{constructor(e,i,t){this.x=e,this.y=i,this.size=t,this.mined=!1,this.covered=!0,this.flagged=!1,this.nearbyMines=0,this.textures={},this.posX=this.size*this.x,this.posY=this.size*this.y,this.container=new PIXI.Container,this.container.interactive=!0,this.setTextures(),this.draw()}get isMined(){return this.mined}get isCovered(){return this.covered}get isFlagged(){return this.flagged}get hasNearbyMines(){return this.nearbyMines}get lineColor(){return this.covered?Ta.LineCovered:Ta.LineUncovered}get fillColor(){return this.covered?Ta.FillCovered:Ta.FillUncovered}populate(e,i){this.mined=e,this.nearbyMines=i}uncover(){this.container.interactive=!1,this.covered=!1,this.flagged=!1,this.draw()}toggleFlag(){this.flagged=!this.flagged,this.draw()}setTextures(){Mh.forEach(e=>{var i;this.textures[e]=null===(i=yd.get(e))||void 0===i?void 0:i.texture})}draw(){this.container.removeChildren();const e=new PIXI.Graphics;e.lineStyle(1,this.lineColor),e.beginFill(this.fillColor),e.drawRect(this.posX,this.posY,this.size,this.size),e.endFill(),this.container.addChild(e),this.covered?this.flagged&&this.drawIcon(J.Flag,.65,[.4,.6]):this.mined?this.drawIcon(J.Boom):this.nearbyMines>0&&this.drawText(this.nearbyMines.toString())}drawIcon(e,i=1,[t,r]=[.5,.5]){const s=new PIXI.Sprite(this.textures[e]);s.anchor.set(t,r),s.width=this.size*i,s.height=this.size*i,s.x=this.size/2+this.posX,s.y=this.size/2+this.posY,this.container.addChild(s)}drawText(e){const i=new PIXI.Text(e);i.x=this.size/2-i.width/2+this.posX,i.y=this.size/2-i.height/2+this.posY,this.container.addChild(i)}}class Oh{constructor(e,i,t,s,l,h,a,r,o,n){this.view=e,this.tileSize=i,this.tilesX=t,this.tilesY=s,this.minesCount=l,this.firstClick=h,this.setFlagsCount=a,this.unpause=r,this.finish=o,this.close=n,PIXI.utils.skipHello(),this.initBoard()}showPauseOverlay(){this.pauseOverlay?this.gfx.stage.getChildByName("pauseOverlay")||this.gfx.stage.addChild(this.pauseOverlay):(this.pauseOverlay=this.drawOverlay(7048739),this.pauseOverlay.name="pauseOverlay",this.pauseOverlay.on("pointerdown",this.unpause))}hidePauseOverlay(){this.gfx.stage.removeChild(this.pauseOverlay)}initBoard(){this.gfx&&this.gfx.destroy(),this.width=this.tilesX*this.tileSize,this.height=this.tilesY*this.tileSize,this.gfx=new PIXI.Application({view:this.view,width:this.width,height:this.height,resolution:2}),this.flagsCount=0,this.tiles=[],this.minesIndex=[],this.triggeredMinedTile=null,this.pauseOverlay=null,this.lostOverlay=null,this.wonOverlay=null,this.initTiles()}showLostOverlay(){this.lostOverlay=this.drawOverlay(16711680,.2),this.lostOverlay.on("pointerdown",this.close)}showWonOverlay(){this.wonOverlay=this.drawOverlay(65280,.2),this.wonOverlay.on("pointerdown",this.close)}initTiles(){for(let e=0;e<this.tilesY;e++)for(let i=0;i<this.tilesX;i++){const t=new Nh(i,e,this.tileSize);t.container.on("pointerdown",t=>this.onTileClick(t,i,e)),this.tiles.push(t),this.gfx.stage.addChild(t.container)}}initMines(e,i){const t=[];for(let l=0;l<this.tilesX*this.tilesY;l++)t.push(l<this.minesCount);let s=0;do{var $RNGY$$interop$default=mb(Kh);$RNGY$$interop$default.d(t),s++}while(s<1e4&&(t[this.getTileIndex(e,i)]||this.getNearbyTileCoordinates(e,i).some(([e,i])=>t[this.getTileIndex(e,i)])));this.minesIndex=t}populateTiles(){this.tiles.forEach((e,i)=>e.populate(this.minesIndex[i],this.getNearbyTileCoordinates(e.x,e.y).filter(([e,i])=>this.minesIndex[this.getTileIndex(e,i)]).length))}onTileClick(e,i,t){this.minesIndex.length||(this.firstClick(),this.initMines(i,t),this.populateTiles());const s=e.data.originalEvent;s.altKey||s.ctrlKey||s.metaKey||s.shiftKey||s.button>1?this.toggleFlag(i,t):this.uncoverTile(i,t)}getTileIndex(e,i){return i*this.tilesX+e}getNearbyTileCoordinates(e,i){return[[e-1,i-1],[e+0,i-1],[e+1,i-1],[e-1,i+0],[e+1,i+0],[e-1,i+1],[e+0,i+1],[e+1,i+1]].filter(([e,i])=>e>=0&&e<this.tilesX&&i>=0&&i<this.tilesY)}uncoverTile(e,i){const t=this.tiles[this.getTileIndex(e,i)];t.isCovered&&!t.isFlagged&&(t.uncover(),t.isMined?(this.triggeredMinedTile=t,this.tiles.forEach(e=>{e.isMined&&e.uncover()})):0===t.hasNearbyMines&&this.getNearbyTileCoordinates(e,i).forEach(([e,i])=>this.uncoverTile(e,i)),this.updateBoardState())}toggleFlag(e,i){const t=this.tiles[this.getTileIndex(e,i)];t.isCovered&&(t.toggleFlag(),this.flagsCount=this.tiles.reduce((e,i)=>i.isFlagged?++e:e,0),this.setFlagsCount(this.flagsCount),this.updateBoardState())}isBoardSolved(){return this.tiles.every(e=>e.isMined&&(e.isFlagged||e.isCovered)||!e.isMined&&!e.isFlagged&&!e.isCovered)}updateBoardState(){const e=!!this.triggeredMinedTile,i=!e&&this.isBoardSolved();(e||i)&&(i?this.showWonOverlay():this.showLostOverlay(),this.finish(i?La.Won:La.Lost))}drawOverlay(e,i){const t=new PIXI.Graphics;return t.interactive=!0,t.beginFill(e,i),t.drawRect(0,0,this.width,this.height),t.endFill(),this.gfx.stage.addChild(t),t}}class Ph extends D{constructor(){super(),this.viewRef=Ua(),this.unsubscribeSubject=new oa,this.onRightClick=e=>{e.preventDefault()},N.actions$.pipe(bb(this.unsubscribeSubject)).subscribe(({name:e,state:r})=>{e===z.Restart?this.board.initBoard():e===z.Pause&&ga.isPaused(r)?this.board.showPauseOverlay():e===z.Unpause&&ga.isRunning(r)&&this.board.hidePauseOverlay(),ga.player(r)||Ha(ka.Home)})}componentDidMount(){this.board=new Oh(this.viewRef.current,this.tileSize,this.tilesX,this.tilesY,this.minesCount,()=>N.dispatch(z.FirstClick),e=>N.dispatch(z.SetFlagsCount,{flagsCount:e}),()=>N.dispatch(z.Unpause),e=>N.dispatch(z.Finish,{finalStatus:e}),()=>Ha(ka.Home))}componentWillUnmount(){this.unsubscribeSubject.next()}render(){const e=Sa(Aa);if(!this.board){const{tileSize:r,tilesX:t,tilesY:i,minesCount:$}=e;this.tileSize=r,this.tilesX=t,this.tilesY=i,this.minesCount=$}return j("div",{class:"c-game-gfx"},j("canvas",{class:"c-game-gfx__canvas",ref:this.viewRef,onContextMenu:this.onRightClick}))}}function zd($,r=!0){return ph($,`dd.MM.yyyy${r?" HH:mm:ss":""}`)}class Ad extends D{render({list:e,highlight:i}){return j("table",{class:"c-highscores-table"},j("thead",null,j("tr",{class:"c-highscores-table__head-row"},j("th",{class:"c-highscores-table__head-cell c-highscores-table__head-cell--rank"},"#"),j("th",{class:"c-highscores-table__head-cell c-highscores-table__head-cell--name"},"Name"),j("th",{class:"c-highscores-table__head-cell c-highscores-table__head-cell--difficulty"},"Difficulty"),j("th",{class:"c-highscores-table__head-cell c-highscores-table__head-cell--time"},"Time"))),j("tbody",null,(e||[]).map(({id:e,rank:l,player:a,difficulty:t,time:c,date:o})=>j("tr",{title:`${a} 🏆 ${zd(o)}`,class:`c-highscores-table__row ${e===i?"c-highscores-table__row--highlight":""}`},j("td",{class:"c-highscores-table__cell c-highscores-table__cell--rank"},l),j("td",{class:"c-highscores-table__cell c-highscores-table__cell--name"},a),j("td",{class:"c-highscores-table__cell c-highscores-table__cell--difficulty"},wd(t)),j("td",{class:"c-highscores-table__cell c-highscores-table__cell--time"},cc(c))))),e&&e.length?"":j("tfoot",null,j("tr",{class:"c-highscores-table__foot-row"},null===e?j("td",{colSpan:4,class:"c-highscores-table__foot-cell c-highscores-table__foot-cell--error"},"Error loading highscores."):void 0===e?j("td",{colSpan:4,class:"c-highscores-table__foot-cell c-highscores-table__foot-cell--loading"},"Loading..."):j("td",{colSpan:4,class:"c-highscores-table__foot-cell c-highscores-table__foot-cell--empty"},"No entries found."))))}}class Qh extends D{constructor(){super(...arguments),this.onClick=e=>{e.preventDefault(),N.dispatch(z.Restart)}}render(){const{finalStatus:e}=Sa(Aa),t=null===e?J.Magawa:e===La.Won?J.Party:J.Dead;return j("button",{class:"c-restart",title:"Restart Game",onClick:this.onClick},j(Ba,{name:t}))}}class Rh extends D{constructor(){super(...arguments),this.onClick=e=>{e.preventDefault(),N.dispatch(z.TogglePause)}}componentWillUnmount(){this.stopTimeout()}render(){const e=Sa(Aa),t=ga.isPaused(e);ga.isFinished(e)||t?this.stopTimeout():this.startTimeout(e.startedAt);const o=this.getDuration(e.startedAt,e.pausedAt),r=t?"Continue":"Pause",a=t?J.Zzz:J.Stopwatch;return j("button",{class:"c-timer",title:r,onClick:this.onClick},j("div",{class:"c-timer__icon"},j(Ba,{name:a})),j("div",{class:"c-timer__label"},o))}getDuration(e,t){const o=null===t?new Date:t,r=e?_b(o,e):0;return cc(r,!1)}startTimeout(e){this.stopTimeout(),this.timeout=window.setTimeout(()=>{this.forceUpdate()},1e3)}stopTimeout(){this.timeout&&window.clearTimeout(this.timeout)}}class Sh extends D{constructor(){super(),this.unsubscribeSubject=new oa,this.highscoreSaved=!1,N.dispatch(z.Start),Cb(window,"blur").pipe(bb(this.unsubscribeSubject)).subscribe(()=>N.dispatch(z.Pause)),Cb(document,"keydown").pipe(bb(this.unsubscribeSubject),Oc(e=>"KeyP"===e.code||"Escape"===e.code)).subscribe(()=>N.dispatch(z.TogglePause))}componentWillUnmount(){this.unsubscribeSubject.next(),N.dispatch(z.Close)}render(e,{highscores:$,entry:r}){const i=Sa(Aa);if(ga.isClosed(i))return j("div",null);const t=ga.isWon(i),{difficulty:c,startedAt:o,finishedAt:s,player:a}=i;t&&!this.highscoreSaved&&c!==F.Custom&&this.saveHighscore(o,s,a,c);const m=ga.width(i);return j("div",{class:"c-game-view"},j("div",{class:"c-game-view__container",style:`width:${m}px; min-width:${.5*m}px`},j("div",{class:"c-game-view__bar"},j("div",{class:"c-game-view__bar-item"},j(Rh,null)),j("div",{class:"c-game-view__bar-item"},j(Qh,null)),j("div",{class:"c-game-view__bar-item"},j(Jh,null))),j(Ph,null)),t?j(Ea,null,j(Ih,{entry:r}),j(Ad,{list:null==$?void 0:$.list,highlight:null==r?void 0:r.id})):"")}saveHighscore(e,$,r,i){this.highscoreSaved=!0,vd.add(_b($,e),r,i).subscribe(({entry:e,highscores:$})=>{this.setState({highscores:$,entry:e})})}}function Ca(r){return parseInt(`${r}`,10)}class Th extends D{constructor(e,i){super(e,i),this.difficulties=Object.entries(F).filter(([e,i])=>"number"==typeof i&&i!==F.Custom),this.refSelect=Ua(),this.refInput=Ua(),this.onChange=e=>{var i,t;e.preventDefault();const r=Ca(null===(i=this.refSelect.current)||void 0===i?void 0:i.value),s=null===(t=this.refInput.current)||void 0===t?void 0:t.value;this.request(r,s)};const t=Db;this.setState({difficulty:t,player:""}),this.request(t,"")}render(e,{difficulty:i,player:t,list:r,updated:s}){return j("div",{class:"c-highscores-view"},j("div",{class:"c-highscores-view__options"},j("div",{class:"c-highscores-view__option"},j("label",{class:"c-highscores-view__label e-label",htmlFor:"difficulty"},"Difficulty"),j("select",{ref:this.refSelect,onChange:this.onChange,class:"c-highscores-view__select e-select",id:"difficulty",name:"difficulty"},this.difficulties.map(([e,t])=>j("option",{class:"c-highscores-view__option e-option",value:t,selected:i===t},e)))),j("div",{class:"c-highscores-view__option"},j("label",{class:"c-highscores-view__label e-label",htmlFor:"player"},"Player"),j("input",{ref:this.refInput,onChange:this.onChange,id:"player",name:"player",pattern:"^\\w*$",class:"c-highscores-view__input e-input",value:t}))),j("div",{class:"c-highscores-view__table"},j(Ad,{list:r,highlight:"CrjD8A1cqGjxtpVT70aMM"})),s?j("div",{class:"c-highscores-view__updated"},"Updated at ",zd(s)):"")}request(e,i){vd.get(e,i).subscribe(({list:t,updated:r})=>{this.setState({difficulty:e,player:i,list:t,updated:r})},t=>{console.error(t),this.setState({difficulty:e,player:i,list:null,updated:null})})}}class Uh extends D{constructor(e,t){super(e,t),this.difficulties=Object.entries(F).filter(([e,t])=>"number"==typeof t),this.refPlayerInput=Ua(),this.onSubmit=e=>{e.preventDefault();const t=e.currentTarget;if(t.checkValidity()){const e=new FormData(t);N.dispatch(z.SetSettings,{player:e.get("player"),difficulty:Ca(e.get("difficulty")),settings:{tilesX:Ca(e.get("tilesX")),tilesY:Ca(e.get("tilesY")),minesCount:Ca(e.get("minesCount"))}}),Ha(ka.Game)}},this.onChangeDifficulty=e=>{var t;const i=Ca(e.currentTarget.value),r=null===(t=this.refPlayerInput.current)||void 0===t?void 0:t.value;if(i===F.Custom)this.setState(e=>Object.assign(Object.assign({},e),{difficulty:i,player:r}));else{const{tilesX:e,tilesY:t,minesCount:m}=Ka[i];this.setState({difficulty:i,tilesX:e,tilesY:t,minesCount:m,player:r})}};const i=Ka[F.Easy];this.minTilesX=i.tilesX,this.minTilesY=i.tilesY,this.minMinesCount=i.minesCount;const r=Ka[F.Custom];this.maxTilesX=r.tilesX,this.maxTilesY=r.tilesY,this.maxMinesCount=r.minesCount,N.state$.pipe(hf(1)).subscribe(({difficulty:e,tilesX:t,tilesY:i,minesCount:r,player:m})=>this.setState({difficulty:e,tilesX:t,tilesY:i,minesCount:r,player:m}))}componentDidMount(){var e;null===(e=this.refPlayerInput.current)||void 0===e||e.focus()}render(e,{difficulty:t,tilesX:i,tilesY:r,minesCount:m,player:l}){const s=t!==F.Custom;return j("form",{class:"c-menu-form",onSubmit:this.onSubmit},j("div",{class:"c-menu-form__row"},j("label",{htmlFor:"player",class:"c-menu-form__label e-label"},"Your Name"),j("input",{class:"c-menu-form__input e-input",id:"player",name:"player",type:"text",pattern:"^\\w+$",required:!0,value:l||"",ref:this.refPlayerInput}))," ",j("div",{class:"c-menu-form__row"},j("label",{htmlFor:"difficulty",class:"c-menu-form__label e-label"},"Difficulty"),j("select",{class:"c-menu-form__select e-select",id:"difficulty",name:"difficulty",onChange:this.onChangeDifficulty},this.difficulties.map(([e,i])=>j("option",{value:i,selected:t===i,class:"c-menu-form__option e-option"},e)))),j("div",{class:"c-menu-form__row"},j("label",{htmlFor:"tilesX",class:"c-menu-form__label e-label"},"Width"),j("input",{class:"c-menu-form__input e-input",id:"tilesX",name:"tilesX",type:s?"text":"number",min:this.minTilesX,max:this.maxTilesX,required:!0,value:i,readOnly:s})),j("div",{class:"c-menu-form__row"},j("label",{htmlFor:"tilesY",class:"c-menu-form__label e-label"},"Height"),j("input",{class:"c-menu-form__input e-input",id:"tilesY",name:"tilesY",type:s?"text":"number",min:this.minTilesY,max:this.maxTilesY,required:!0,value:r,readOnly:s})),j("div",{class:"c-menu-form__row"},j("label",{htmlFor:"minesCount",class:"c-menu-form__label e-label"},"Mines"),j("input",{class:"c-menu-form__input e-input",id:"minesCount",name:"minesCount",type:s?"text":"number",min:this.minMinesCount,max:this.maxMinesCount,required:!0,value:m,readOnly:s})),j("button",{class:"c-menu-form__button e-button e-button--block e-button--primary",type:"submit"},"Start Game",j(Ba,{name:J.Magawa})))}}class Vh extends D{render(){return j("div",{class:"c-menu-view"},j(Uh,null),j(yc,{href:ka.Highscores,class:"c-menu-view__button e-button e-button--block"},"Highscores",j(Ba,{name:J.Trophy})))}}class Wh extends D{constructor(){super(),this.unsubscribeSubject=new oa,N.state$.pipe(bb(this.unsubscribeSubject)).subscribe(e=>this.setState({gameState:e}))}componentWillUnmount(){this.unsubscribeSubject.next()}render(e,{gameState:i}){return j("div",{class:"c-app"},j(Aa.Provider,{value:i},j(da,{history:be()},j(Sh,{path:ka.Game}),j(Th,{path:ka.Highscores}),j(Vh,{path:ka.Home}))))}}yd.loaded$.subscribe(()=>{document.body.className="",Md(j(Wh,null),document.body)});return{"YK7P":{}};});